"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[162],{3712:(e,o,l)=>{l.d(o,{Z:()=>i});var t=l(1938),n=l(8735),r=l(184);const i=function(e){const{variant:o,children:l,...i}=e,a=(0,t.mq)("Card",{variant:o});return(0,r.jsx)(n.Box,{__css:a,height:"100%",...i,children:l})}},3252:(e,o,l)=>{l.d(o,{Z:()=>r});var t=l(2791),n=l(184);const r=function(e){let{targetNumber:o}=e;const[l,r]=(0,t.useState)(0);return(0,t.useEffect)((()=>{const e=setInterval((()=>{l<o&&r((e=>e+1))}),o>500?0:20);return()=>{clearInterval(e)}}),[l,o]),(0,n.jsx)("span",{children:"number"===typeof o?l:o})}},162:(e,o,l)=>{l.r(o),l.d(o,{default:()=>j});var t=l(5223),n=l(8735),r=l(8227),i=l(7005),a=l(2791),s=l(1358),d=l(3712),c=l(6355),u=l(6053),v=l(1087),x=l(3252),m=l(2426),p=l.n(m),g=l(1526),h=l(184);function f(e){const{columnsData:o}=e,l=(0,r.ff)("secondaryGray.900","white"),t=(0,r.ff)("gray.200","whiteAlpha.100"),m=(0,a.useMemo)((()=>o),[o]),[f,j]=(0,a.useState)([]),b=JSON.parse(localStorage.getItem("user")),S=(0,s.useTable)({columns:m,data:f},s.useGlobalFilter,s.useSortBy,s.usePagination),{getTableProps:w,getTableBodyProps:y,headerGroups:T,page:H,prepareRow:P,initialState:C,nextPage:z,previousPage:k,canNextPage:F,canPreviousPage:_,pageOptions:W,state:D}=S;C.pageSize=10;const{pageIndex:N}=D;return(0,a.useEffect)((()=>{(async()=>{let e=await(0,g.ac)("admin"===b.role?"api/text-msg":"api/text-msg?sender=".concat(b._id));j(null===e||void 0===e?void 0:e.data)})()}),[e.isOpen]),(0,h.jsxs)(d.Z,{direction:"column",w:"100%",px:"0px",overflowX:{sm:"scroll",lg:"scroll"},children:[(0,h.jsx)(n.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:(0,h.jsxs)(n.Text,{color:l,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:["Text Msg  (",(0,h.jsx)(x.Z,{targetNumber:null===f||void 0===f?void 0:f.length}),")"]})}),(0,h.jsxs)(i.iA,{...w(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,h.jsx)(i.hr,{children:null===T||void 0===T?void 0:T.map(((e,o)=>{var l;return(0,a.createElement)(i.Tr,{...e.getHeaderGroupProps(),key:o},null===(l=e.headers)||void 0===l?void 0:l.map(((e,o)=>(0,a.createElement)(i.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:o,borderColor:t},(0,h.jsxs)(n.Flex,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:[e.render("Header"),!1!==e.isSortable&&(0,h.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,h.jsx)(c.sF,{}):(0,h.jsx)(c.h3_,{}):(0,h.jsx)(c.roE,{})})]})))))}))}),(0,h.jsxs)(i.p3,{...y(),children:[0===(null===f||void 0===f?void 0:f.length)&&(0,h.jsx)(i.Tr,{children:(0,h.jsx)(i.Td,{colSpan:m.length,children:(0,h.jsx)(n.Text,{textAlign:"center",width:"100%",color:l,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}),null===H||void 0===H?void 0:H.map(((e,o)=>{var t;return P(e),(0,a.createElement)(i.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:o},null===e||void 0===e||null===(t=e.cells)||void 0===t?void 0:t.map(((e,o)=>{let t="";var r;if("#"===(null===e||void 0===e?void 0:e.column.Header))t=(0,h.jsx)(n.Flex,{align:"center",children:(0,h.jsx)(n.Text,{color:l,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.index)+1})});else if("sender"===(null===e||void 0===e?void 0:e.column.Header)){var s,d;t=(0,h.jsx)(v.rU,{to:"admin"!==(null===b||void 0===b?void 0:b.role)?"/text-msg/".concat(null===e||void 0===e||null===(s=e.row)||void 0===s?void 0:s.values._id):"/admin/text-msg/".concat(null===e||void 0===e||null===(d=e.row)||void 0===d?void 0:d.values._id),children:(0,h.jsx)(n.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"green.400",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "})})}else if("to"===(null===e||void 0===e?void 0:e.column.Header))t=(0,h.jsx)(n.Text,{me:"10px",color:l,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value});else if("create From"===(null===e||void 0===e?void 0:e.column.Header)){var c,u,x,m;t=(0,h.jsx)(v.rU,{to:"admin"!==(null===b||void 0===b?void 0:b.role)?"/contactView/".concat(null===e||void 0===e||null===(c=e.row)||void 0===c||null===(u=c.original)||void 0===u?void 0:u.createFor):"/admin/contactView/".concat(null===e||void 0===e||null===(x=e.row)||void 0===x||null===(m=x.original)||void 0===m?void 0:m.createFor),children:(0,h.jsx)(n.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"green.400",fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "})})}else if("timestamp"===(null===e||void 0===e?void 0:e.column.Header))t=(0,h.jsx)(n.Text,{color:l,fontSize:"sm",fontWeight:"700",children:p()(null===e||void 0===e?void 0:e.value).toNow()});else if("Created"===(null===e||void 0===e?void 0:e.column.Header)){var g;t=(0,h.jsx)(n.Text,{color:l,fontSize:"sm",fontWeight:"700",children:p()(null===e||void 0===e||null===(g=e.row)||void 0===g?void 0:g.values.timestamp).format("(DD/MM) h:mma")})}return(0,a.createElement)(i.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:o,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},t)})))}))]})]}),(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center",margin:"1rem"},children:[(0,h.jsx)("button",{onClick:()=>k(),disabled:!_,children:(0,h.jsx)(u.$K8,{})}),(0,h.jsxs)("span",{style:{margin:"0 0.5rem"},children:["Page ",N+1," of ",W.length]}),(0,h.jsx)("button",{onClick:()=>z(),disabled:!F,children:(0,h.jsx)(u._P3,{})})]})]})}const j=()=>{const{isOpen:e,onOpen:o,onClose:l}=(0,t.qY)();return(0,h.jsxs)("div",{children:[(0,h.jsx)(n.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,h.jsx)(n.GridItem,{colStart:6,textAlign:"right"})}),(0,h.jsx)(f,{isOpen:e,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"sender",accessor:"senderName"},{Header:"to",accessor:"to"},{Header:"create From",accessor:"createByName"},{Header:"timestamp",accessor:"timestamp"},{Header:"Created"}]})]})}}}]);
//# sourceMappingURL=162.a05d89e9.chunk.js.map