"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8550],{5962:(e,i,n)=>{n.d(i,{Z:()=>s});var l=n(8227),r=n(8735),o=n(5798),a=n(2504),t=(n(2791),n(8267)),d=n(184);const s=function(e){const{content:i,...n}=e,{getRootProps:s,getInputProps:c}=(0,t.uI)({multiple:!0,onDrop:i=>{if("img"===e.img){const n=i.filter((e=>e.type.startsWith("image/")));n.length>0&&e.onFileSelect(n)}else i.length>0&&e.onFileSelect(i)}}),u=(0,l.ff)("gray.100","navy.700"),m=(0,l.ff)("secondaryGray.100","whiteAlpha.100");return(0,d.jsxs)(r.Flex,{align:"center",justify:"center",bg:u,border:"1px dashed",borderColor:m,borderRadius:"16px",w:"100%",h:"max-content",minH:"100%",cursor:"pointer",...s({className:"dropzone"}),...n,children:[(0,d.jsx)(o.Input,{type:"file",variant:"main",multiple:!0,...c()}),(0,d.jsx)(a.Button,{variant:"no-effects",children:i})]})}},9029:(e,i,n)=>{n.d(i,{Z:()=>q});var l=n(5272),r=n(8735),o=n(8473),a=n(7231),t=n(2791),d=n(3728),s=n(3853),c=n(4373),u=n(6856),m=n(7689),v=n(7917),h=n(2504),p=n(1526),f=n(184);const x=e=>(0,f.jsx)("div",{children:(0,f.jsxs)(v.u_,{onClose:e.onClose,isOpen:e.isOpen,isCentered:!0,children:[(0,f.jsx)(v.ZA,{}),(0,f.jsxs)(v.hz,{children:[(0,f.jsxs)(v.xB,{children:["Delete Document","one"===e.method?"":"s"]}),(0,f.jsx)(v.ol,{}),(0,f.jsxs)(v.fe,{children:["Are You Sure To Delete selated Document","one"===e.method?"":"s"," ?"]}),(0,f.jsxs)(v.mz,{children:[(0,f.jsx)(h.Button,{colorScheme:"red",mr:2,onClick:async()=>{if("one"===e.method)e.deleteFile(e.id),e.onClose(!1);else if("many"===e.method)try{200===(await(0,p.$f)(e.url,e.data)).status&&(e.setSelectedValues([]),e.onClose(!1))}catch(i){console.log(i)}},children:"Yes"}),(0,f.jsx)(h.Button,{variant:"outline",onClick:()=>{e.onClose(!1)},children:"No"})]})]})]})});var b=n(5223),g=n(3393),_=n(3445),y=n(5798),Z=n(2506),C=n(9085);const k=e=>{const{setLinkDocument:i}=e,[n,o]=(0,t.useState)(!1),{isOpen:a,onOpen:d,onClose:s}=(0,b.qY)(),[c,u]=(0,t.useState)([]),m=JSON.parse(localStorage.getItem("user")),x=(0,Z.TA)({initialValues:{linkWith:"",linkContact:"",linkLead:""},onSubmit:(e,i)=>{let{resetForm:n}=i;w(),n()}}),{errors:k,touched:j,values:q,handleBlur:S,handleChange:L,handleSubmit:I,setFieldValue:F,resetForm:N}=x,w=async()=>{try{o(!0);let l=q.linkContact?{linkContact:q.linkContact}:{linkLead:q.linkLead},r=await(0,p.Fv)("api/document/link-document/".concat(e.id),l);var n;if(r&&200===r.status)i((e=>!e)),e.onClose();else C.Am.error(null===(n=r.response.data)||void 0===n?void 0:n.message)}catch(l){console.log(l)}finally{o(!1)}};return(0,t.useEffect)((()=>{(async()=>{if("contact"===q.linkWith){let e=await(0,p.ac)("admin"===m.role?"api/contact/":"api/contact/?createBy=".concat(m._id));q.createBy=null===e||void 0===e?void 0:e._id,u((i=>{var n;return[...(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((e=>({label:e.firstName+" "+e.lastName,value:e._id}))))||[]]}))}else if("lead"===q.linkWith){let e=await(0,p.ac)("admin"===m.role?"api/lead/":"api/lead/?createBy=".concat(m._id));q.createBy=null===e||void 0===e?void 0:e._id,u((i=>{var n;return[...(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((e=>({label:e.leadName,value:e._id}))))||[]]}))}})()}),[q]),(0,f.jsxs)(v.u_,{onClose:e.onClose,isOpen:e.isOpen,children:[(0,f.jsx)(v.ZA,{}),(0,f.jsxs)(v.hz,{children:[(0,f.jsx)(v.xB,{children:"Link With Document"}),(0,f.jsx)(v.ol,{}),(0,f.jsx)(v.fe,{children:(0,f.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,f.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,f.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link With"}),(0,f.jsx)(_.Ee,{onChange:e=>{N(),F("linkWith",e)},value:q.linkWith,children:(0,f.jsxs)(r.Stack,{direction:"row",children:[(0,f.jsx)(_.Y8,{value:"contact",children:"Contact"}),(0,f.jsx)(_.Y8,{value:"lead",children:"Lead"})]})}),(0,f.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",k.linkWith&&j.linkWith&&k.linkWith]})]}),"contact"===q.linkWith?(0,f.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,f.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Contact"}),(0,f.jsx)(y.Input,{onFocus:d,fontSize:"sm",onChange:L,onBlur:()=>setTimeout(s,200),value:null===q||void 0===q?void 0:q.linkLabel,name:"linkLabel",placeholder:"Link Contact",fontWeight:"500",borderColor:null!==k&&void 0!==k&&k.linkLabel&&null!==j&&void 0!==j&&j.linkLabel?"red.300":null}),a&&(null===q||void 0===q?void 0:q.linkLabel)&&(0,f.jsx)(r.List,{position:"relative",border:"1px solid",bg:"gray.100",width:"100%",borderRadius:"0px 0px 20px 20px",lineHeight:1,children:null===c||void 0===c?void 0:c.filter((e=>{var i,n;return null===e||void 0===e||null===(i=e.label)||void 0===i||null===(n=i.toLowerCase())||void 0===n?void 0:n.includes(null===q||void 0===q?void 0:q.linkLabel.toLowerCase())})).map(((e,i)=>(0,f.jsx)(r.ListItem,{p:3,borderBottom:"2px solid #efefef",sx:{"&:last-child":{borderBottom:"none"}},cursor:"pointer",onClick:()=>{F("linkContact",null===e||void 0===e?void 0:e.value),F("linkLabel",null===e||void 0===e?void 0:e.label)},children:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.value)))}),(0,f.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",k.linkContact&&j.linkContact&&k.linkContact]})]}):"lead"===q.linkWith&&(0,f.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,f.jsx)(g.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Link Lead"}),(0,f.jsx)(y.Input,{onFocus:d,fontSize:"sm",onChange:L,onBlur:()=>setTimeout(s,200),value:null===q||void 0===q?void 0:q.linkLabel,name:"linkLabel",placeholder:"Link Lead",fontWeight:"500",borderColor:null!==k&&void 0!==k&&k.linkLabel&&null!==j&&void 0!==j&&j.linkLabel?"red.300":null}),a&&(null===q||void 0===q?void 0:q.linkLabel)&&(0,f.jsx)(r.List,{position:"relative",border:"1px solid",bg:"gray.100",width:"100%",borderRadius:"0px 0px 20px 20px",lineHeight:1,children:null===c||void 0===c?void 0:c.filter((e=>{var i,n;return null===e||void 0===e||null===(i=e.label)||void 0===i||null===(n=i.toLowerCase())||void 0===n?void 0:n.includes(null===q||void 0===q?void 0:q.linkLabel.toLowerCase())})).map(((e,i)=>(0,f.jsx)(r.ListItem,{p:3,borderBottom:"2px solid #efefef",sx:{"&:last-child":{borderBottom:"none"}},cursor:"pointer",onClick:()=>{F("linkLead",null===e||void 0===e?void 0:e.value),F("linkLabel",null===e||void 0===e?void 0:e.label)},children:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.value)))}),(0,f.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",k.linkLead&&j.linkLead&&k.linkLead]})]})]})}),(0,f.jsxs)(v.mz,{children:[(0,f.jsx)(h.Button,{colorScheme:"brand",rightIcon:(0,f.jsx)(l.LinkIcon,{}),mr:2,onClick:w,children:"Link"}),(0,f.jsx)(h.Button,{variant:"outline",colorScheme:"red",onClick:()=>{e.onClose(!1)},children:"Cancel"})]})]})]})};var j=n(458);const q=e=>{let{data:i,deleteFile:n,item:v,download:h,name:p,isFile:b,children:g,setLinkDocument:_,from:y}=e;const[Z,C]=(0,t.useState)(!1),[q,S]=(0,t.useState)(!1),[L,I]=(0,t.useState)(!1),[F,N]=(0,t.useState)(!1),w=(0,m.s0)(),B=!b&&!!g,P=JSON.parse(localStorage.getItem("user"));return(0,f.jsxs)(r.List,{width:"100%",children:[(0,f.jsx)(r.ListItem,{alignItems:"center",display:"flex",children:(0,f.jsxs)(r.Text,{alignItems:"center",justifyContent:"space-between",display:"flex",width:"100%",onClick:B?()=>{C(!Z)}:void 0,_hover:{cursor:"pointer",textDecoration:"none"},children:[(0,f.jsxs)(r.Flex,{width:"70%",alignItems:"center",children:[(0,f.jsx)(r.ListIcon,{as:b?s.tHe:d.FYx}),B&&(Z?(0,f.jsx)(s.bTu,{}):(0,f.jsx)(s.Tfp,{})),p]}),null!==v&&void 0!==v&&v.createByName?(0,f.jsxs)(r.Text,{children:["(",null===v||void 0===v?void 0:v.createByName,") "]}):null,!B&&(0,f.jsx)(r.Flex,{justifyContent:"right",width:"100%",children:(0,f.jsxs)(o.v2,{isLazy:!0,children:[(0,f.jsx)(o.j2,{children:(0,f.jsx)(j.Nm0,{})}),(0,f.jsxs)(o.qy,{position:"absolute",right:-5,pl:"0.5em",minW:"fit-content",children:[!y&&null!==i&&void 0!==i&&i.linkContact?(0,f.jsx)(o.sN,{pr:2,w:"180px",onClick:()=>w("admin"!==(null===P||void 0===P?void 0:P.role)?"/contactView/".concat(null===i||void 0===i?void 0:i.linkContact):"/admin/contactView/".concat(null===i||void 0===i?void 0:i.linkContact)),icon:(0,f.jsx)(c.H27,{fontSize:15}),children:"Linked Contact"}):!y&&(null===i||void 0===i?void 0:i.linkLead)&&(0,f.jsx)(o.sN,{pr:2,w:"180px",onClick:()=>w("admin"!==(null===P||void 0===P?void 0:P.role)?"/leadView/".concat(null===i||void 0===i?void 0:i.linkLead):"/admin/leadView/".concat(null===i||void 0===i?void 0:i.linkLead)),icon:(0,f.jsx)(u.Cal,{fontSize:15}),children:"Linked Lead"}),!y&&(0,f.jsx)(o.sN,{pr:10,color:"blue",onClick:()=>(e=>{I(!0),N(e)})(null===i||void 0===i?void 0:i._id),icon:(0,f.jsx)(l.LinkIcon,{fontSize:15}),children:"Link"}),function(e){const i=e.substring(e.lastIndexOf(".")).toLowerCase();return[".jpg",".jpeg",".png",".gif",".bmp"].includes(i)}(null===i||void 0===i?void 0:i.img)&&(0,f.jsx)(o.sN,{pr:10,color:"green",onClick:()=>window.open(null===i||void 0===i?void 0:i.img),icon:(0,f.jsx)(l.ViewIcon,{fontSize:15}),children:"View"}),(0,f.jsx)(o.sN,{pr:10,onClick:()=>(e=>{h(e)})(null===i||void 0===i?void 0:i._id),icon:(0,f.jsx)(l.DownloadIcon,{fontSize:15}),children:"Download"}),!y&&(0,f.jsx)(o.sN,{pr:10,color:"red",onClick:()=>(e=>{S(!0),N(e)})(null===i||void 0===i?void 0:i._id),icon:(0,f.jsx)(l.DeleteIcon,{fontSize:15}),children:"Delete"})]})]})}),(0,f.jsx)(x,{isOpen:q,onClose:S,method:"one",deleteFile:n,id:F}),(0,f.jsx)(k,{isOpen:L,setLinkDocument:_,onClose:I,id:F})]})}),B&&(0,f.jsx)(a.UO,{in:Z,animateOpacity:!0,children:(0,f.jsx)(r.List,{styleType:"disc",ml:4,children:g})})]})}},3712:(e,i,n)=>{n.d(i,{Z:()=>a});var l=n(1938),r=n(8735),o=n(184);const a=function(e){const{variant:i,children:n,...a}=e,t=(0,l.mq)("Card",{variant:i});return(0,o.jsx)(r.Box,{__css:t,height:"100%",...a,children:n})}},4220:(e,i,n)=>{n.d(i,{Z:()=>r});var l=n(184);const r=()=>(0,l.jsx)("div",{className:"loader"})},2630:(e,i,n)=>{n.d(i,{Ko:()=>p,A5:()=>h,OD:()=>r,Bl:()=>u,Io:()=>c,sL:()=>t,dm:()=>s,Fv:()=>m,GI:()=>a,oz:()=>v,IK:()=>d});var l=n(8007);const r=l.Ry({firstName:l.Z_().min(2).required("First Name is required"),lastName:l.Z_().min(2).required("Last Name is required"),title:l.Z_().required("Title is required"),email:l.Z_().email().required("Email is required"),phoneNumber:l.Rx().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Phonenumber is Required"),mobileNumber:l.Rx().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").notRequired(),physicalAddress:l.Z_().required("Physical address is required"),mailingAddress:l.Z_(),preferredContactMethod:l.Z_().required("Preferred contact method is required"),leadSource:l.Z_(),referralSource:l.Z_(),campaignSource:l.Z_(),leadStatus:l.Z_(),leadRating:l.Rx(),leadConversionProbability:l.Z_(),emailHistory:l.Z_(),phoneCallHistory:l.Z_(),meetingHistory:l.Z_(),notesandComments:l.Z_(),tagsOrLabelsForcategorizingcontacts:l.Z_(),birthday:l.hT(),anniversary:l.hT(),keyMilestones:l.Z_(),dob:l.Z_(),gender:l.Z_(),occupation:l.Z_(),interestsOrHobbies:l.Z_(),communicationFrequency:l.Z_(),preferences:l.Z_(),linkedInProfile:l.Z_(),facebookProfile:l.Z_(),twitterHandle:l.Z_(),otherProfiles:l.Z_(),agentOrTeamMember:l.Z_(),internalNotesOrComments:l.Z_(),createBy:l.Z_()}),o=(new Date).getFullYear(),a=l.Ry({propertyType:l.Z_().required("Property Type Is required"),propertyAddress:l.Z_().required("Property Address Is required"),listingPrice:l.Z_().required("Listing Price Is required"),squareFootage:l.Z_().required("Square Footage Is required"),numberofBedrooms:l.Rx().required("Number Of Bedrooms Is required"),numberofBathrooms:l.Rx().required("Number Of Bathrooms Is required"),yearBuilt:l.Rx().min(1e3).max(o).required("Year Built Is required"),propertyDescription:l.Z_().required("Property Description Is required"),lotSize:l.Z_(),parkingAvailability:l.Z_(),appliancesIncluded:l.Z_(),heatingAndCoolingSystems:l.Z_(),flooringType:l.Z_(),exteriorFeatures:l.Z_(),communityAmenities:l.Z_(),propertyPhotos:l.Z_(),virtualToursOrVideos:l.Z_(),floorPlans:l.Z_(),propertyDocuments:l.Z_(),listingStatus:l.Z_(),listingAgentOrTeam:l.Z_(),listingDate:l.Z_(),marketingDescription:l.Z_(),multipleListingService:l.Z_(),previousOwners:l.Rx().min(0),purchaseHistory:l.Z_(),propertyTaxes:l.Z_(),homeownersAssociation:l.Z_(),mortgageInformation:l.Z_(),sellers:l.Z_(),buyers:l.Z_(),propertyManagers:l.Z_(),contractorsOrServiceProviders:l.Z_(),internalNotesOrComments:l.Z_()}),t=l.Ry({leadName:l.Z_().required("Lead Name Is required"),leadEmail:l.Z_().email().required("Lead Email Is required"),leadPhoneNumber:l.Z_().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Lead Phone Number Is required"),leadAddress:l.Z_().required("Lead Address Is required"),leadSource:l.Z_(),leadStatus:l.Z_(),leadSourceDetails:l.Z_(),leadCampaign:l.Z_(),leadSourceChannel:l.Z_(),leadSourceMedium:l.Z_(),leadSourceCampaign:l.Z_(),leadSourceReferral:l.Z_(),leadAssignedAgent:l.Z_(),leadOwner:l.Z_(),leadCommunicationPreferences:l.Z_(),leadCreationDate:l.hT().required("Lead Creation Date Is required"),leadConversionDate:l.hT().required("Lead Conversion Date Is required"),leadFollowUpDate:l.hT().required("lead Follow Up Date  Is required"),leadFollowUpStatus:l.Z_(),leadScore:l.Rx().required("Lead Score Is required"),leadNurturingWorkflow:l.Z_(),leadEngagementLevel:l.Z_(),leadConversionRate:l.Rx().required("lead Conversion Rate Is required"),leadNurturingStage:l.Z_(),leadNextAction:l.Z_()}),d=l.Ry({firstName:l.Z_().required("First Name Is required"),lastName:l.Z_(),phoneNumber:l.Z_().required("Phone Number Is required").matches(/^\d{10}$/,"Phone Number must be exactly 10 digits"),username:l.Z_().email().required("Email Is required")}),s=l.Ry({username:l.Z_().email().required("Email Is required"),password:l.Z_().required("Password Is required")}),c=l.Ry({sender:l.Z_().required("Sender Is required"),recipient:l.Z_().email().required("Recipient Is required"),cc:l.Z_().email(),bcc:l.Z_().email(),relatedToContact:l.Z_(),relatedToLead:l.Z_(),subject:l.Z_(),message:l.Z_(),createBy:l.Z_(),createByLead:l.Z_()}).test("createBy-or-createByLead-required","Recipient Is required",(function(e){if(!e.createBy&&!e.createByLead)return this.createError({path:"createBy",message:"Recipient Is required"})})),u=l.Ry().shape({folderName:l.Z_().required("Folder Name is required"),filename:l.Z_().min(2,"File Name Must Be At Least 2 Characters"),createBy:l.Z_().required()}),m=l.Ry({sender:l.Z_().required("Sender Is required"),recipient:l.Rx().required("Recipient Is required"),callDuration:l.Z_(),callNotes:l.Z_(),createBy:l.Z_(),createByLead:l.Z_(),category:l.Z_()}).test("createBy-or-createByLead-required","Recipient Is required",(function(e){if(!e.createBy&&!e.createByLead)return this.createError({path:"createBy",message:"Recipient Is required"})})),v=l.Ry({sender:l.Z_().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Sender Is required"),to:l.Z_().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("To Is required"),message:l.Z_(),createFor:l.Z_().required("Create By Is required")}),h=l.Ry({title:l.Z_().required("Title Is required"),category:l.Z_(),description:l.Z_(),notes:l.Z_(),reminder:l.Z_(),start:l.Z_().required("Start Is required"),end:l.Z_(),backgroundColor:l.Z_(),borderColor:l.Z_(),textColor:l.Z_(),display:l.Z_(),url:l.Z_(),createBy:l.Z_()}),p=l.Ry({agenda:l.Z_().required("Agenda Is required"),attendes:l.IX().of(l.Z_().trim()),attendesLead:l.IX().of(l.Z_().trim()),location:l.Z_(),related:l.Z_(),dateTime:l.Z_().required("Date Time Is required"),notes:l.Z_(),createFor:l.Z_(),createdBy:l.Z_()})},8550:(e,i,n)=>{n.r(i),n.d(i,{default:()=>j});var l=n(5223),r=n(8735),o=n(3393),a=n(5798),t=n(2504),d=n(9029),s=n(3712),c=n(3486),u=n(4220),m=n(3458),v=n(2506),h=n(2791),p=n(7689),f=n(9085),x=n(2630),b=n(1526),g=n(8227),_=n(9113),y=n(5962),Z=n(6856),C=n(184);function k(e){const{used:i,total:n,count:l,...o}=e,a=(0,g.ff)("secondaryGray.900","white"),t=(0,g.ff)("brand.500","white");return(0,C.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,C.jsx)(r.GridItem,{colSpan:{base:12,"2xl":5},children:(0,C.jsx)(y.Z,{w:{base:"100%","2xl":"240px"},me:"36px",minH:200,height:"100%",onFileSelect:e.onFileSelect,content:(0,C.jsxs)(r.Box,{children:[(0,C.jsx)(_.JO,{as:Z.Ap8,w:"70px",h:"70px",color:t}),(0,C.jsx)(r.Flex,{justify:"center",mx:"auto",mb:"12px",children:(0,C.jsx)(r.Text,{fontSize:"xl",fontWeight:"700",color:t,children:"Upload Files"})}),(0,C.jsx)(r.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:l>0&&(0,C.jsxs)(r.Text,{fontSize:"sm",fontWeight:"500",color:"secondaryGray.500",children:["Selected Files : ",l]})})]})})}),(0,C.jsx)(r.GridItem,{colSpan:{base:12,"2xl":7},children:(0,C.jsxs)(r.Flex,{direction:"column",children:[(0,C.jsx)(r.Text,{color:a,fontWeight:"bold",textAlign:"start",fontSize:"2xl",mt:{base:"20px","2xl":"50px"},children:"Upload Files"}),(0,C.jsx)(r.Text,{color:"gray.400",fontSize:"md",my:{base:"auto","2xl":"10px"},mx:"auto",textAlign:"start",children:"Accepted File Types (Images, PDFs, Word docs, Powerpoint, Excel, ZIP, and video files - 15MB max)"})]})})]})}const j=()=>{const[e,i]=(0,h.useState)([]),{isOpen:n,onOpen:g,onClose:_}=(0,l.qY)(),y=JSON.parse(localStorage.getItem("user")),[Z,j]=(0,h.useState)(!1),[q,S]=(0,h.useState)(!1),L=async()=>{j(!0);let e=await(0,b.ac)("admin"===y.role?"api/document":"api/document?createBy=".concat(y._id));i(null===e||void 0===e?void 0:e.data),j(!1)},I={folderName:"",files:"",filename:"",createBy:y._id},F=(0,v.TA)({initialValues:I,validationSchema:x.Bl,onSubmit:(e,i)=>{let{resetForm:n}=i;W()}}),{errors:N,touched:w,values:B,handleBlur:P,handleChange:D,handleSubmit:R,setFieldValue:T,resetForm:O}=F,z=((0,p.s0)(),async e=>{if(e){let i=await(0,b.ac)("api/document/download/",e);i&&200===i.status?(window.open("".concat(m.a.baseUrl,"api/document/download/").concat(e)),f.Am.success("file Download successful")):i&&404===i.response.status&&f.Am.error("file Not Found")}}),A=async e=>{if(e){let i=await(0,b.ef)("api/document/delete/",e);i&&200===i.status&&L()}},W=async()=>{try{j(!0);const e=new FormData;null===e||void 0===e||e.append("folderName",B.folderName),null===e||void 0===e||e.append("createBy",B.createBy),null===e||void 0===e||e.append("filename",B.filename),B.files.forEach((i=>{null===e||void 0===e||e.append("files",i)}));let i=await(0,b.Fv)("api/document/add",e);i&&200===i.status&&(L(),F.resetForm())}catch(e){console.log(e)}finally{j(!1)}};return(0,h.useEffect)((()=>{L()}),[q,R]),(0,C.jsx)("div",{children:(0,C.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",mb:3,gap:2,children:[(0,C.jsx)(r.GridItem,{colSpan:{base:12,md:7},children:(0,C.jsxs)(s.Z,{minH:"20em",children:[(0,C.jsx)(r.Heading,{size:"lg",mb:4,children:"File Explorer"}),(0,C.jsx)(c.q,{}),(0,C.jsx)(r.VStack,{mt:4,alignItems:"flex-start",children:Z?(0,C.jsx)(r.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,C.jsx)(u.Z,{})}):0===(null===e||void 0===e?void 0:e.length)?(0,C.jsx)(r.Text,{textAlign:"center",width:"100%",fontSize:"sm",fontWeight:"700",children:"-- No Document Found --"}):null===e||void 0===e?void 0:e.map((e=>{var i;return(0,C.jsx)(d.Z,{name:e.folderName,item:e,children:null===e||void 0===e||null===(i=e.files)||void 0===i?void 0:i.map((e=>(0,C.jsx)(d.Z,{download:z,setLinkDocument:S,deleteFile:A,data:e,name:e.fileName,isFile:!0})))})}))})]})}),(0,C.jsx)(r.GridItem,{colSpan:{base:12,md:5},colStart:{base:1,md:8},children:(0,C.jsxs)(s.Z,{children:[(0,C.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,C.jsxs)(o.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Folder Name",(0,C.jsx)(r.Text,{color:"red",children:"*"})]}),(0,C.jsx)(a.Input,{onFocus:g,fontSize:"sm",onChange:D,onBlur:()=>setTimeout(_,200),value:B.folderName,name:"folderName",placeholder:"Enter Folder Name",fontWeight:"500",borderColor:null!==N&&void 0!==N&&N.folderName&&null!==w&&void 0!==w&&w.folderName?"red.300":null}),n&&(null===B||void 0===B?void 0:B.folderName)&&(null===e||void 0===e?void 0:e.filter((e=>{var i,n;return null===e||void 0===e||null===(i=e.folderName)||void 0===i||null===(n=i.toLowerCase())||void 0===n?void 0:n.includes(null===B||void 0===B?void 0:B.folderName.toLowerCase())})).length)>0&&(0,C.jsx)(r.List,{position:"relative",border:"1px solid",bg:"gray.100",width:"100%",borderRadius:"0px 0px 20px 20px",lineHeight:1,children:null===e||void 0===e?void 0:e.filter((e=>{var i,n;return null===e||void 0===e||null===(i=e.folderName)||void 0===i||null===(n=i.toLowerCase())||void 0===n?void 0:n.includes(null===B||void 0===B?void 0:B.folderName.toLowerCase())})).map(((e,i)=>(0,C.jsx)(r.ListItem,{p:3,borderBottom:"2px solid #efefef",sx:{"&:last-child":{borderBottom:"none"}},cursor:"pointer",onClick:()=>{T("folderName",null===e||void 0===e?void 0:e.folderName)},children:null===e||void 0===e?void 0:e.folderName},null===e||void 0===e?void 0:e._id)))}),(0,C.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",N.folderName&&w.folderName&&N.folderName]})]}),(0,C.jsxs)(r.GridItem,{colSpan:{base:12},children:[(0,C.jsx)(o.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"File Name"}),(0,C.jsx)(a.Input,{fontSize:"sm",onChange:D,onBlur:()=>setTimeout(_,200),value:B.filename,name:"filename",placeholder:"Enter File Name",fontWeight:"500",borderColor:null!==N&&void 0!==N&&N.filename&&null!==w&&void 0!==w&&w.filename?"red.300":null}),(0,C.jsxs)(r.Text,{mb:"10px",color:"red",children:[" ",N.filename&&w.filename&&N.filename]})]}),(0,C.jsx)(k,{count:B.files.length,onFileSelect:e=>T("files",e)}),(0,C.jsx)(t.Button,{disabled:!!Z,onClick:R,variant:"brand",fontWeight:"500",children:Z?(0,C.jsx)(u.Z,{}):"Publish now"})]})})]})})}},3445:(e,i,n)=>{n.d(i,{Ee:()=>b,Y8:()=>Z});var l=n(1938),r=n(7160),o=n(6134),a=n(2791),t=n(9611),d=n(5223),s=n(3393),c=n(1212);function u(e,i){if(null==e)return{};var n,l,r={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],i.indexOf(n)>=0||(r[n]=e[n]);return r}function m(){return m=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},m.apply(this,arguments)}var v=["onChange","value","defaultValue","name","isDisabled","isFocusable","isNative"];var h=["colorScheme","size","variant","children","className","isDisabled","isFocusable"],p=(0,t.kr)({name:"RadioGroupContext",strict:!1}),f=p[0],x=p[1],b=(0,l.Gp)((function(e,i){var n=e.colorScheme,r=e.size,s=e.variant,c=e.children,p=e.className,x=e.isDisabled,b=e.isFocusable,g=function(e){void 0===e&&(e={});var i=e,n=i.onChange,l=i.value,r=i.defaultValue,s=i.name,c=i.isDisabled,h=i.isFocusable,p=i.isNative,f=u(i,v),x=a.useState(r||""),b=x[0],g=x[1],_=(0,d.pY)(l,b),y=_[0],Z=_[1],C=a.useRef(null),k=a.useCallback((function(){var e=C.current;if(e){var i="input:not(:disabled):checked",n=e.querySelector(i);if(n)n.focus();else{i="input:not(:disabled)";var l=e.querySelector(i);null==l||l.focus()}}}),[]),j=(0,d.Me)(void 0,"radio"),q=s||j,S=a.useCallback((function(e){var i=(0,o.kA)(e)?e.target.value:e;y||g(i),null==n||n(String(i))}),[n,y]),L=a.useCallback((function(e,i){return void 0===e&&(e={}),void 0===i&&(i=null),m({},e,{ref:(0,t.lq)(i,C),role:"radiogroup"})}),[]),I=a.useCallback((function(e,i){var n;return void 0===e&&(e={}),void 0===i&&(i=null),m({},e,((n={ref:i,name:q})[p?"checked":"isChecked"]=null!=Z?e.value===Z:void 0,n.onChange=S,n["data-radiogroup"]=!0,n))}),[p,q,S,Z]);return{getRootProps:L,getRadioProps:I,name:q,ref:C,focus:k,setValue:g,value:Z,onChange:S,isDisabled:c,isFocusable:h,htmlProps:f}}(u(e,h)),_=g.value,y=g.onChange,Z=g.getRootProps,C=g.name,k=g.htmlProps,j=a.useMemo((function(){return{name:C,size:r,onChange:y,colorScheme:n,value:_,variant:s,isDisabled:x,isFocusable:b}}),[C,r,y,n,_,s,x,b]),q=Z(k,i),S=(0,o.cx)("chakra-radio-group",p);return a.createElement(f,{value:j},a.createElement(l.m$.div,m({},q,{className:S}),c))}));o.Ts&&(b.displayName="RadioGroup");var g=["defaultIsChecked","defaultChecked","isChecked","isFocusable","isDisabled","isReadOnly","isRequired","onChange","isInvalid","name","value","id","data-radiogroup","aria-describedby"];function _(e){e.preventDefault(),e.stopPropagation()}var y=["spacing","children","isFullWidth","isDisabled","isFocusable","inputProps"],Z=(0,l.Gp)((function(e,i){var n,t=x(),v=e.onChange,h=e.value,p=(0,l.jC)("Radio",m({},t,e)),f=(0,l.Lr)(e),b=f.spacing,Z=void 0===b?"0.5rem":b,C=f.children,k=f.isFullWidth,j=f.isDisabled,q=void 0===j?null==t?void 0:t.isDisabled:j,S=f.isFocusable,L=void 0===S?null==t?void 0:t.isFocusable:S,I=f.inputProps,F=u(f,y),N=e.isChecked;null!=(null==t?void 0:t.value)&&null!=h&&(N=t.value===h);var w=v;null!=t&&t.onChange&&null!=h&&(w=(0,o.PP)(t.onChange,v));var B=function(e){void 0===e&&(e={});var i=e,n=i.defaultIsChecked,l=i.defaultChecked,r=void 0===l?n:l,t=i.isChecked,v=i.isFocusable,h=i.isDisabled,p=i.isReadOnly,f=i.isRequired,b=i.onChange,y=i.isInvalid,Z=i.name,C=i.value,k=i.id,j=i["data-radiogroup"],q=i["aria-describedby"],S=u(i,g),L=(0,d.Me)(void 0,"radio"),I=(0,s.useFormControlContext)(),F=x(),N=!I||F||j?L:I.id;N=null!=k?k:N;var w=null!=h?h:null==I?void 0:I.isDisabled,B=null!=p?p:null==I?void 0:I.isReadOnly,P=null!=f?f:null==I?void 0:I.isRequired,D=null!=y?y:null==I?void 0:I.isInvalid,R=(0,d.kt)(),T=R[0],O=R[1],z=(0,d.kt)(),A=z[0],W=z[1],E=(0,d.kt)(),G=E[0],M=E[1],V=(0,a.useState)(Boolean(r)),H=V[0],Y=V[1],U=(0,d.pY)(t,H),K=U[0],$=U[1];(0,o.ZK)({condition:!!n,message:'The "defaultIsChecked" prop has been deprecated and will be removed in a future version. Please use the "defaultChecked" prop instead, which mirrors default React checkbox behavior.'});var J=(0,a.useCallback)((function(e){B||w?e.preventDefault():(K||Y(e.target.checked),null==b||b(e))}),[K,w,B,b]),Q=(0,a.useCallback)((function(e){" "===e.key&&M.on()}),[M]),X=(0,a.useCallback)((function(e){" "===e.key&&M.off()}),[M]),ee=(0,a.useCallback)((function(e,i){return void 0===e&&(e={}),void 0===i&&(i=null),m({},e,{ref:i,"data-active":(0,o.PB)(G),"data-hover":(0,o.PB)(A),"data-disabled":(0,o.PB)(w),"data-invalid":(0,o.PB)(D),"data-checked":(0,o.PB)($),"data-focus":(0,o.PB)(T),"data-readonly":(0,o.PB)(B),"aria-hidden":!0,onMouseDown:(0,o.v0)(e.onMouseDown,M.on),onMouseUp:(0,o.v0)(e.onMouseUp,M.off),onMouseEnter:(0,o.v0)(e.onMouseEnter,W.on),onMouseLeave:(0,o.v0)(e.onMouseLeave,W.off)})}),[G,A,w,D,$,T,B,M.on,M.off,W.on,W.off]),ie=null!=I?I:{},ne=ie.onFocus,le=ie.onBlur,re=(0,a.useCallback)((function(e,i){void 0===e&&(e={}),void 0===i&&(i=null);var n=w&&!v;return m({},e,{id:N,ref:i,type:"radio",name:Z,value:C,onChange:(0,o.v0)(e.onChange,J),onBlur:(0,o.v0)(le,e.onBlur,O.off),onFocus:(0,o.v0)(ne,e.onFocus,O.on),onKeyDown:(0,o.v0)(e.onKeyDown,Q),onKeyUp:(0,o.v0)(e.onKeyUp,X),checked:$,disabled:n,readOnly:B,required:P,"aria-invalid":(0,o.Qm)(D),"aria-disabled":(0,o.Qm)(n),"aria-required":(0,o.Qm)(P),"data-readonly":(0,o.PB)(B),"aria-describedby":q,style:c.NL})}),[w,v,N,Z,C,J,le,O,ne,Q,X,$,B,P,D,q]);return{state:{isInvalid:D,isFocused:T,isChecked:$,isActive:G,isHovered:A,isDisabled:w,isReadOnly:B,isRequired:P},getCheckboxProps:ee,getInputProps:re,getLabelProps:function(e,i){return void 0===e&&(e={}),void 0===i&&(i=null),m({},e,{ref:i,onMouseDown:(0,o.v0)(e.onMouseDown,_),onTouchStart:(0,o.v0)(e.onTouchStart,_),"data-disabled":(0,o.PB)(w),"data-checked":(0,o.PB)($),"data-invalid":(0,o.PB)(D)})},getRootProps:function(e,i){return void 0===i&&(i=null),m({},e,{ref:i,"data-disabled":(0,o.PB)(w),"data-checked":(0,o.PB)($),"data-invalid":(0,o.PB)(D)})},htmlProps:S}}(m({},F,{isChecked:N,isFocusable:L,isDisabled:q,onChange:w,name:null!=(n=null==e?void 0:e.name)?n:null==t?void 0:t.name})),P=B.getInputProps,D=B.getCheckboxProps,R=B.getLabelProps,T=B.getRootProps,O=B.htmlProps,z=(0,o.Vl)(O,r.oE),A=z[0],W=D(z[1]),E=P(I,i),G=R(),M=Object.assign({},A,T()),V=m({width:k?"full":void 0,display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer"},p.container),H=m({display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},p.control),Y=m({userSelect:"none",marginStart:Z},p.label);return a.createElement(l.m$.label,m({className:"chakra-radio"},M,{__css:V}),a.createElement("input",m({className:"chakra-radio__input"},E)),a.createElement(l.m$.span,m({className:"chakra-radio__control"},W,{__css:H})),C&&a.createElement(l.m$.span,m({className:"chakra-radio__label"},G,{__css:Y}),C))}));o.Ts&&(Z.displayName="Radio")}}]);
//# sourceMappingURL=8550.d5bc55d5.chunk.js.map