"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3068],{4223:(e,l,a)=>{a.r(l),a.d(l,{default:()=>H});var d=a(5272),n=a(5223),o=a(8735),i=a(8473),r=a(2504),t=a(3822),s=a(9029),c=a(3712),m=a(3486),x=a(4220),u=a(3458),h=a(2426),p=a.n(h),S=a(2791),j=a(9126),g=a(4373),f=a(978),v=a(7689),b=a(1087),C=a(9085),A=a(1526),I=a(3610),L=a(8802),N=a(6311),z=a(2964),T=a(9181),W=a(520),G=a(8460),D=a(6040),w=a(2196),k=a(6960),F=a(7917),y=a(3393),E=a(5798),B=a(7640),R=a(2506),P=a(2630),U=a(184);const O=e=>{const[l,a]=(0,S.useState)(!1),n={leadName:"",leadEmail:"",leadPhoneNumber:"",leadAddress:"",leadSource:"",leadStatus:"",leadSourceDetails:"",leadCampaign:"",leadSourceChannel:"",leadSourceMedium:"",leadSourceCampaign:"",leadSourceReferral:"",leadAssignedAgent:"",leadOwner:"",leadCommunicationPreferences:"",leadCreationDate:"",leadConversionDate:"",leadFollowUpDate:"",leadFollowUpStatus:"",leadScore:"",leadNurturingWorkflow:"",leadEngagementLevel:"",leadConversionRate:"",leadNurturingStage:"",leadNextAction:"",createBy:JSON.parse(localStorage.getItem("user"))._id},i=(0,v.UO)(),t=(0,R.TA)({initialValues:n,validationSchema:P.sL,onSubmit:(e,l)=>{let{resetForm:a}=l;f()}}),{errors:s,touched:c,values:u,handleBlur:h,handleChange:p,handleSubmit:j,setFieldValue:g}=t,f=async()=>{try{a(!0),200===(await(0,A.zj)("api/lead/edit/".concat(i.id),u)).status&&e.onClose()}catch(l){console.log(l)}finally{a(!1)}},b=()=>{e.onClose(!1)};let C;return(0,S.useEffect)((()=>{(async()=>{var e,l,a,d,n,o,r,t,s,c,m,x,h,p,S,j,g,f,v,b,I,L,N,z,T,W,G,D,w,k,F,y,E,B,R,P,U,O,H,Z,M,q,_,K,V,$,J,Q,X,Y;C=await(0,A.ac)("api/lead/view/",i.id),u.leadName=null===(e=C)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.leadName,u.leadEmail=null===(a=C)||void 0===a||null===(d=a.data)||void 0===d?void 0:d.leadEmail,u.leadPhoneNumber=null===(n=C)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.leadPhoneNumber,u.leadAddress=null===(r=C)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.leadAddress,u.leadSource=null===(s=C)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.leadSource,u.leadStatus=null===(m=C)||void 0===m||null===(x=m.data)||void 0===x?void 0:x.leadStatus,u.leadSourceDetails=null===(h=C)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.leadSourceDetails,u.leadCampaign=null===(S=C)||void 0===S||null===(j=S.data)||void 0===j?void 0:j.leadCampaign,u.leadSourceChannel=null===(g=C)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.leadSourceChannel,u.leadSourceMedium=null===(v=C)||void 0===v||null===(b=v.data)||void 0===b?void 0:b.leadSourceMedium,u.leadSourceCampaign=null===(I=C)||void 0===I||null===(L=I.data)||void 0===L?void 0:L.leadSourceCampaign,u.leadSourceReferral=null===(N=C)||void 0===N||null===(z=N.data)||void 0===z?void 0:z.leadSourceReferral,u.leadAssignedAgent=null===(T=C)||void 0===T||null===(W=T.data)||void 0===W?void 0:W.leadAssignedAgent,u.leadOwner=null===(G=C)||void 0===G||null===(D=G.data)||void 0===D?void 0:D.leadOwner,u.leadCommunicationPreferences=null===(w=C)||void 0===w||null===(k=w.data)||void 0===k?void 0:k.leadCommunicationPreferences,u.leadCreationDate=null===(F=C)||void 0===F||null===(y=F.data)||void 0===y?void 0:y.leadCreationDate,u.leadConversionDate=null===(E=C)||void 0===E||null===(B=E.data)||void 0===B?void 0:B.leadConversionDate,u.leadFollowUpDate=null===(R=C)||void 0===R||null===(P=R.data)||void 0===P?void 0:P.leadFollowUpDate,u.leadFollowUpStatus=null===(U=C)||void 0===U||null===(O=U.data)||void 0===O?void 0:O.leadFollowUpStatus,u.leadScore=null===(H=C)||void 0===H||null===(Z=H.data)||void 0===Z?void 0:Z.leadScore,u.leadNurturingWorkflow=null===(M=C)||void 0===M||null===(q=M.data)||void 0===q?void 0:q.leadNurturingWorkflow,u.leadEngagementLevel=null===(_=C)||void 0===_||null===(K=_.data)||void 0===K?void 0:K.leadEngagementLevel,u.leadConversionRate=null===(V=C)||void 0===V||null===($=V.data)||void 0===$?void 0:$.leadConversionRate,u.leadNurturingStage=null===(J=C)||void 0===J||null===(Q=J.data)||void 0===Q?void 0:Q.leadNurturingStage,u.leadNextAction=null===(X=C)||void 0===X||null===(Y=X.data)||void 0===Y?void 0:Y.leadNextAction})()}),[]),(0,U.jsx)("div",{children:(0,U.jsxs)(F.dy,{isOpen:e.isOpen,size:e.size,children:[(0,U.jsx)(F.P1,{}),(0,U.jsxs)(F.sc,{children:[(0,U.jsxs)(F.OX,{justifyContent:"space-between",display:"flex",children:["Edit leads",(0,U.jsx)(r.IconButton,{onClick:b,icon:(0,U.jsx)(d.CloseIcon,{})})]}),(0,U.jsx)(F.Ng,{children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,U.jsx)(o.GridItem,{colSpan:{base:12},children:(0,U.jsx)(o.Heading,{as:"h1",size:"md",children:"1. Basic Lead Information"})}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsxs)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Lead Name",(0,U.jsx)(o.Text,{color:"red",children:"*"})]}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadName,name:"leadName",placeholder:"Enter Lead Name",fontWeight:"500",borderColor:s.leadName&&c.leadName?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadName&&c.leadName&&s.leadName]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsxs)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Lead Email",(0,U.jsx)(o.Text,{color:"red",children:"*"})]}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadEmail,type:"email",name:"leadEmail",placeholder:"mail@simmmple.com",fontWeight:"500",borderColor:s.leadEmail&&c.leadEmail?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadEmail&&c.leadEmail&&s.leadEmail})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsxs)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Lead Phone Number",(0,U.jsx)(o.Text,{color:"red",children:"*"})]}),(0,U.jsxs)(E.InputGroup,{children:[(0,U.jsx)(E.InputLeftElement,{pointerEvents:"none",children:(0,U.jsx)(d.PhoneIcon,{color:"gray.300",borderRadius:"16px"})}),(0,U.jsx)(E.Input,{type:"tel",fontSize:"sm",onChange:p,onBlur:h,value:u.leadPhoneNumber,name:"leadPhoneNumber",fontWeight:"500",borderColor:s.title&&c.title?"red.300":null,placeholder:"Phone number",borderRadius:"16px"})]}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadPhoneNumber&&c.leadPhoneNumber&&s.leadPhoneNumber})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsxs)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Lead Address",(0,U.jsx)(o.Text,{color:"red",children:"*"})]}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadAddress,name:"leadAddress",placeholder:"Enter Lead Address",fontWeight:"500",borderColor:s.leadAddress&&c.leadAddress?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadAddress&&c.leadAddress&&s.leadAddress})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,U.jsx)(m.q,{}),(0,U.jsx)(o.Heading,{mt:2,as:"h1",size:"md",children:"2. Lead Source and Details"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Source"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadSource,name:"leadSource",placeholder:"Enter Lead Source",fontWeight:"500",borderColor:s.leadSource&&c.leadSource?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadSource&&c.leadSource&&s.leadSource})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Status"}),(0,U.jsxs)(B.Ph,{value:u.leadStatus,name:"leadStatus",onChange:p,fontWeight:"500",placeholder:"Select Lead Source",borderColor:s.leadStatus&&c.leadStatus?"red.300":null,children:[(0,U.jsx)("option",{value:"active",children:"active"}),(0,U.jsx)("option",{value:"pending",children:"pending"}),(0,U.jsx)("option",{value:"sold",children:"sold"})]}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadStatus&&c.leadStatus&&s.leadStatus})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Source Details"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadSourceDetails,name:"leadSourceDetails",placeholder:"Enter Lead Source Details",fontWeight:"500",borderColor:s.leadSourceDetails&&c.leadSourceDetails?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadSourceDetails&&c.leadSourceDetails&&s.leadSourceDetails})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Campaign"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadCampaign,name:"leadCampaign",placeholder:"Enter Lead Campaign",fontWeight:"500",borderColor:s.leadCampaign&&c.leadCampaign?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadCampaign&&c.leadCampaign&&s.leadCampaign})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Source Channel"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadSourceChannel,name:"leadSourceChannel",placeholder:"Enter Lead Source Channel",fontWeight:"500",borderColor:s.leadSourceChannel&&c.leadSourceChannel?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadSourceChannel&&c.leadSourceChannel&&s.leadSourceChannel})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Source Medium"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadSourceMedium,name:"leadSourceMedium",placeholder:"Enter Lead Source Medium",fontWeight:"500",borderColor:s.leadSourceMedium&&c.leadSourceMedium?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadSourceMedium&&c.leadSourceMedium&&s.leadSourceMedium})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"lead Source Campaign"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadSourceCampaign,name:"leadSourceCampaign",placeholder:"Enter lead Source Campaign",fontWeight:"500",borderColor:s.leadSourceCampaign&&c.leadSourceCampaign?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadSourceCampaign&&c.leadSourceCampaign&&s.leadSourceCampaign})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Source Referral"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadSourceReferral,name:"leadSourceReferral",placeholder:"Enter Lead Source Referral",fontWeight:"500",borderColor:s.leadSourceReferral&&c.leadSourceReferral?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadSourceReferral&&c.leadSourceReferral&&s.leadSourceReferral})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,U.jsx)(m.q,{}),(0,U.jsx)(o.Heading,{mt:2,as:"h1",size:"md",children:"3. Lead Assignment and Ownership"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Assigned Agent"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadAssignedAgent,name:"leadAssignedAgent",placeholder:"Enter Lead Assigned Agent",fontWeight:"500",borderColor:s.leadAssignedAgent&&c.leadAssignedAgent?"red.300":null}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadAssignedAgent&&c.leadAssignedAgent&&s.leadAssignedAgent})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Owner"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadOwner,name:"leadOwner",placeholder:"Enter Lead Owner",fontWeight:"500",borderColor:s.leadOwner&&c.leadOwner?"red.300":"none"}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadOwner&&c.leadOwner&&s.leadOwner})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Communication Preferences"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadCommunicationPreferences,name:"leadCommunicationPreferences",placeholder:"Enter Lead Communication Preferences",fontWeight:"500",borderColor:s.leadCommunicationPreferences&&c.leadCommunicationPreferences?"red.300":"none"}),(0,U.jsx)(o.Text,{mb:"10px",color:"red",children:s.leadCommunicationPreferences&&c.leadCommunicationPreferences&&s.leadCommunicationPreferences})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,U.jsx)(m.q,{}),(0,U.jsx)(o.Heading,{mt:2,as:"h1",size:"md",children:"4. Lead Dates and Follow-up"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Creation Date"}),(0,U.jsx)(E.Input,{type:"date",fontSize:"sm",onChange:p,onBlur:h,value:u.leadCreationDate,name:"leadCreationDate",fontWeight:"500",borderColor:s.leadCreationDate&&c.leadCreationDate?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadCreationDate&&c.leadCreationDate&&s.leadCreationDate]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Conversion Date"}),(0,U.jsx)(E.Input,{type:"date",fontSize:"sm",onChange:p,onBlur:h,value:u.leadConversionDate,name:"leadConversionDate",fontWeight:"500",borderColor:s.leadConversionDate&&c.leadConversionDate?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadConversionDate&&c.leadConversionDate&&s.leadConversionDate]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead FollowUp Date"}),(0,U.jsx)(E.Input,{type:"date",fontSize:"sm",onChange:p,onBlur:h,value:u.leadFollowUpDate,name:"leadFollowUpDate",fontWeight:"500",borderColor:s.leadFollowUpDate&&c.leadFollowUpDate?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadFollowUpDate&&c.leadFollowUpDate&&s.leadFollowUpDate]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead FollowUp Status"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadFollowUpStatus,name:"leadFollowUpStatus",placeholder:"lead FollowUp Status",fontWeight:"500",borderColor:s.leadFollowUpStatus&&c.leadFollowUpStatus?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadFollowUpStatus&&c.leadFollowUpStatus&&s.leadFollowUpStatus]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,U.jsx)(m.q,{}),(0,U.jsx)(o.Heading,{mt:2,as:"h1",size:"md",children:"5. Lead Scoring and Nurturing"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Score"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadScore,name:"leadScore",placeholder:"lead Score",type:"number",fontWeight:"500",borderColor:s.leadScore&&c.leadScore?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadScore&&c.leadScore&&s.leadScore]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Nurturing Workflow"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadNurturingWorkflow,name:"leadNurturingWorkflow",placeholder:" lead Nurturing Workflow",fontWeight:"500",borderColor:s.leadNurturingWorkflow&&c.leadNurturingWorkflow?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadNurturingWorkflow&&c.leadNurturingWorkflow&&s.leadNurturingWorkflow]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Engagement Level"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadEngagementLevel,name:"leadEngagementLevel",placeholder:"Lead Engagement Level",fontWeight:"500",borderColor:s.leadEngagementLevel&&c.leadEngagementLevel?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadEngagementLevel&&c.leadEngagementLevel&&s.leadEngagementLevel]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Conversion Rate"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadConversionRate,name:"leadConversionRate",type:"number",placeholder:"Lead Conversion Rate",fontWeight:"500",borderColor:s.leadConversionRate&&c.leadConversionRate?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadConversionRate&&c.leadConversionRate&&s.leadConversionRate]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Nurturing Stage"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadNurturingStage,name:"leadNurturingStage",placeholder:"lead Nurturing Stage",fontWeight:"500",borderColor:s.leadNurturingStage&&c.leadNurturingStage?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadNurturingStage&&c.leadNurturingStage&&s.leadNurturingStage]})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,sm:6},children:[(0,U.jsx)(y.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Lead Next Action"}),(0,U.jsx)(E.Input,{fontSize:"sm",onChange:p,onBlur:h,value:u.leadNextAction,name:"leadNextAction",placeholder:"Lead Next Action",fontWeight:"500",borderColor:s.leadNextAction&&c.leadNextAction?"red.300":null}),(0,U.jsxs)(o.Text,{mb:"10px",color:"red",children:[" ",s.leadNextAction&&c.leadNextAction&&s.leadNextAction]})]})]})}),(0,U.jsxs)(F.ze,{children:[(0,U.jsx)(r.Button,{sx:{textTransform:"capitalize"},variant:"solid",colorScheme:"green",type:"submit",disabled:!!l,onClick:j,children:l?(0,U.jsx)(x.Z,{}):"Update Data"}),(0,U.jsx)(r.Button,{variant:"outline",colorScheme:"red",sx:{marginLeft:2,textTransform:"capitalize"},onClick:b,children:"Cancel"})]})]})]})})},H=()=>{var e,l,a,h,F,y;const E=(0,v.UO)(),[B,R]=(0,S.useState)(),[P,H]=(0,S.useState)([]),{isOpen:Z,onOpen:M,onClose:q}=(0,n.qY)(),[_,K]=(0,S.useState)(!1),[V,$]=(0,S.useState)(!1),[J,Q]=(0,S.useState)(!1),[X,Y]=(0,S.useState)(!1),[ee,le]=(0,S.useState)(!1),[ae,de]=(0,S.useState)(!1),[ne,oe]=(0,S.useState)(!1),ie=[{Header:"sender",accessor:"senderName"},{Header:"recipient",accessor:"createByName"},{Header:"time stamp",accessor:"timestamp"},{Header:"Created",accessor:"createBy"}],re=async e=>{if(e){let l=await(0,A.ac)("api/document/download/",e);l&&200===l.status?(window.open("".concat(u.a.baseUrl,"api/document/download/").concat(e)),C.Am.success("file Download successful")):l&&404===l.response.status&&C.Am.error("file Not Found")}},te=async()=>{var e;Q(!0);let l=await(0,A.ac)("api/lead/view/",E.id);R(null===(e=l.data)||void 0===e?void 0:e.lead),H(l.data),Q(!1)};return(0,S.useEffect)((()=>{te()}),[_,ae,ne]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(w.Z,{isOpen:Z,size:"lg",onClose:q}),(0,U.jsx)(O,{isOpen:_,size:"lg",onClose:K}),(0,U.jsx)(k.Z,{isOpen:V,onClose:$,method:"one",url:"api/lead/delete/",id:E.id}),J?(0,U.jsx)(o.Flex,{justifyContent:"center",alignItems:"center",width:"100%",children:(0,U.jsx)(x.Z,{})}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(o.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,U.jsx)(o.GridItem,{colStart:6,children:(0,U.jsxs)(o.Flex,{justifyContent:"right",children:[(0,U.jsxs)(i.v2,{children:[(0,U.jsx)(i.j2,{variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:r.Button,rightIcon:(0,U.jsx)(d.ChevronDownIcon,{}),children:"Actions"}),(0,U.jsx)(i.R,{}),(0,U.jsxs)(i.qy,{children:[(0,U.jsx)(i.sN,{onClick:()=>M(),icon:(0,U.jsx)(d.AddIcon,{}),children:"Add"}),(0,U.jsx)(i.sN,{onClick:()=>K(!0),icon:(0,U.jsx)(d.EditIcon,{}),children:"Edit"}),(0,U.jsx)(i.R,{}),(0,U.jsx)(i.sN,{onClick:()=>$(!0),icon:(0,U.jsx)(d.DeleteIcon,{}),children:"Delete"})]})]}),(0,U.jsx)(b.rU,{to:"/lead",children:(0,U.jsx)(r.Button,{leftIcon:(0,U.jsx)(g.u1R,{}),variant:"brand",children:"Back"})})]})})}),(0,U.jsxs)(t.mQ,{children:[(0,U.jsxs)(t.td,{sx:{"& button:focus":{boxShadow:"none"}},children:[(0,U.jsx)(t.OK,{children:"Information"}),(0,U.jsx)(t.OK,{children:"Activity"}),(0,U.jsx)(t.OK,{children:"Document"})]}),(0,U.jsxs)(t.nP,{children:[(0,U.jsx)(t.x4,{pt:4,p:0,children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,U.jsx)(o.GridItem,{colSpan:{base:12,md:6},children:(0,U.jsx)(c.Z,{children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,U.jsx)(o.GridItem,{colSpan:12,children:(0,U.jsxs)(o.Box,{children:[(0,U.jsx)(o.Heading,{size:"md",mb:3,children:"Basic Lead Information"}),(0,U.jsx)(m.q,{})]})}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Name"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadName?null===B||void 0===B?void 0:B.leadName:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Email"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadEmail?null===B||void 0===B?void 0:B.leadEmail:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Phone Number"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadPhoneNumber?null===B||void 0===B?void 0:B.leadPhoneNumber:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Address"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadAddress?null===B||void 0===B?void 0:B.leadAddress:"N/A"})]})]})})}),(0,U.jsx)(o.GridItem,{colSpan:{base:12,md:6},children:(0,U.jsx)(c.Z,{children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,U.jsx)(o.GridItem,{colSpan:12,children:(0,U.jsxs)(o.Box,{children:[(0,U.jsx)(o.Heading,{size:"md",mb:3,children:"Lead Assignment and Ownership"}),(0,U.jsx)(m.q,{})]})}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Assigned Agent"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadAssignedAgent?null===B||void 0===B?void 0:B.leadAssignedAgent:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Assigned Agent"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadAssignedAgent?null===B||void 0===B?void 0:B.leadAssignedAgent:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Communication Preferences"}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadCommunicationPreferences?null===B||void 0===B?void 0:B.leadCommunicationPreferences:"N/A"})]})]})})}),(0,U.jsx)(o.GridItem,{colSpan:{base:12,md:6},children:(0,U.jsx)(c.Z,{children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,U.jsx)(o.GridItem,{colSpan:12,children:(0,U.jsxs)(o.Box,{children:[(0,U.jsx)(o.Heading,{size:"md",mb:3,children:"Lead Source and Details"}),(0,U.jsx)(m.q,{})]})}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Source "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadSource?null===B||void 0===B?void 0:B.leadSource:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Status "}),(0,U.jsx)(o.Text,{textTransform:"capitalize",children:null!==B&&void 0!==B&&B.leadStatus?(se=null===B||void 0===B?void 0:B.leadStatus,null===se||void 0===se?void 0:se.replace(/([a-z])([A-Z])/g,"$1 $2")):"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Source Details "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadSourceDetails?null===B||void 0===B?void 0:B.leadSourceDetails:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Campaign "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadCampaign?null===B||void 0===B?void 0:B.leadCampaign:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Source Channel "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadSourceChannel?null===B||void 0===B?void 0:B.leadSourceChannel:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Source Medium "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadSourceMedium?null===B||void 0===B?void 0:B.leadSourceMedium:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Source Campaign "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadSourceCampaign?null===B||void 0===B?void 0:B.leadSourceCampaign:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Source Referral "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadSourceReferral?null===B||void 0===B?void 0:B.leadSourceReferral:"N/A"})]})]})})}),(0,U.jsx)(o.GridItem,{colSpan:{base:12,md:6},children:(0,U.jsx)(c.Z,{children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,U.jsx)(o.GridItem,{colSpan:12,children:(0,U.jsxs)(o.Box,{children:[(0,U.jsx)(o.Heading,{size:"md",mb:3,children:"Lead Dates and Follow-up"}),(0,U.jsx)(m.q,{})]})}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead FollowUp Status "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadFollowUpStatus?null===B||void 0===B?void 0:B.leadFollowUpStatus:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Creation Date "}),(0,U.jsx)(o.Text,{children:p()(null===B||void 0===B?void 0:B.leadCreationDate).format("L")})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Conversion Date "}),(0,U.jsx)(o.Text,{children:p()(null===B||void 0===B?void 0:B.leadConversionDate).format("L")})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:"  Lead FollowUp Date "}),(0,U.jsx)(o.Text,{children:p()(null===B||void 0===B?void 0:B.leadFollowUpDate).format("L")})]})]})})}),(0,U.jsx)(o.GridItem,{colSpan:{base:12},children:(0,U.jsx)(c.Z,{children:(0,U.jsxs)(o.Grid,{templateColumns:"repeat(12, 1fr)",gap:4,children:[(0,U.jsx)(o.GridItem,{colSpan:12,children:(0,U.jsxs)(o.Box,{children:[(0,U.jsx)(o.Heading,{size:"md",mb:3,children:"Lead Scoring and Nurturing"}),(0,U.jsx)(m.q,{})]})}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Score "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadScore?null===B||void 0===B?void 0:B.leadScore:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Nurturing Workflow "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadNurturingWorkflow?null===B||void 0===B?void 0:B.leadNurturingWorkflow:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Engagement Level "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadEngagementLevel?null===B||void 0===B?void 0:B.leadEngagementLevel:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Conversion Rate "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadConversionRate?null===B||void 0===B?void 0:B.leadConversionRate:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Nurturing Stage "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadNurturingStage?null===B||void 0===B?void 0:B.leadNurturingStage:"N/A"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:12,md:6},children:[(0,U.jsx)(o.Text,{color:"blackAlpha.900",fontSize:"sm",fontWeight:"bold",children:" Lead Next Action "}),(0,U.jsx)(o.Text,{children:null!==B&&void 0!==B&&B.leadNextAction?null===B||void 0===B?void 0:B.leadNextAction:"N/A"})]})]})})})]})}),(0,U.jsx)(t.x4,{pt:4,p:0,children:(0,U.jsx)(o.GridItem,{colSpan:{base:4},children:(0,U.jsx)(c.Z,{children:(0,U.jsxs)(o.Grid,{overflow:"hidden",templateColumns:{base:"1fr"},gap:4,children:[(0,U.jsx)(o.GridItem,{colSpan:2,children:(0,U.jsxs)(o.Box,{children:[(0,U.jsx)(o.Heading,{size:"md",mb:3,children:"Communication"}),(0,U.jsx)(m.q,{})]})}),(0,U.jsxs)(o.Grid,{templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,U.jsxs)(o.GridItem,{colSpan:{base:2},children:[null!==P&&void 0!==P&&P.Email&&null!==P&&void 0!==P&&null!==(e=P.Email)&&void 0!==e&&e.length?(0,U.jsx)(I.Z,{fetchData:te,columnsData:ie,lead:"true",tableData:P.Email,title:"Email "}):(0,U.jsx)(r.Button,{onClick:()=>de(!0),leftIcon:(0,U.jsx)(j.nkP,{}),colorScheme:"gray",children:"Send Email "}),(0,U.jsx)(N.Z,{fetchData:te,isOpen:ae,onClose:de,data:null===B||void 0===B?void 0:B.contact,lead:"true",id:E.id})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:2},children:[(null===P||void 0===P||null===(l=P.phoneCall)||void 0===l?void 0:l.length)>0?(0,U.jsx)(L.Z,{fetchData:te,columnsData:ie,lead:"true",tableData:null===P||void 0===P?void 0:P.phoneCall,title:"Call "}):(0,U.jsx)(r.Button,{onClick:()=>oe(!0),leftIcon:(0,U.jsx)(j.lfG,{}),colorScheme:"gray",children:" Call "}),(0,U.jsx)(W.Z,{fetchData:te,isOpen:ne,onClose:oe,data:null===B||void 0===B?void 0:B.contact,id:E.id,lead:"true"})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:2},children:[(null===P||void 0===P||null===(a=P.task)||void 0===a?void 0:a.length)>0?(0,U.jsx)(G.Z,{className:"table-container",setTaskModel:Y,fetchData:te,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:5},{Header:"Title",accessor:"title"},{Header:"Category",accessor:"category"},{Header:"Assignment To",accessor:"assignmentToName"},{Header:"Start Date",accessor:"start"},{Header:"End Date",accessor:"end"}],data:null===P||void 0===P?void 0:P.task,title:"Task "}):(0,U.jsx)(r.Button,{onClick:()=>Y(!0),leftIcon:(0,U.jsx)(d.AddIcon,{}),colorScheme:"gray",children:"Create Task"}),(0,U.jsx)(D.Z,{fetchData:te,isOpen:X,onClose:Y,from:"lead",id:E.id})]}),(0,U.jsxs)(o.GridItem,{colSpan:{base:2},children:[(null===P||void 0===P||null===(h=P.meeting)||void 0===h?void 0:h.length)>0?(0,U.jsx)(T.Z,{className:"table-container",setMeeting:le,fetchData:te,columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"agenda",accessor:"agenda"},{Header:"date Time",accessor:"dateTime"},{Header:"times tamp",accessor:"timestamp"},{Header:"create By",accessor:"createdByName"}],data:null===P||void 0===P?void 0:P.meeting,title:"meeting "}):(0,U.jsx)(r.Button,{onClick:()=>le(!0),leftIcon:(0,U.jsx)(f._Ti,{}),colorScheme:"gray",children:"Add Meeting "}),(0,U.jsx)(z.Z,{fetchData:te,isOpen:ee,onClose:le,from:"lead",id:E.id})]})]})]})})})}),(0,U.jsx)(t.x4,{pt:4,p:0,children:(0,U.jsx)(o.GridItem,{colSpan:{base:4},children:(0,U.jsxs)(c.Z,{minH:"50vh",children:[(0,U.jsx)(o.Heading,{size:"lg",mb:4,children:"Documents"}),(0,U.jsx)(m.q,{}),(0,U.jsx)(o.VStack,{mt:4,alignItems:"flex-start",children:(null===P||void 0===P||null===(F=P.Document)||void 0===F?void 0:F.length)>0?null===P||void 0===P||null===(y=P.Document)||void 0===y?void 0:y.map((e=>{var l;return(0,U.jsx)(s.Z,{name:e.folderName,item:e,children:null===e||void 0===e||null===(l=e.files)||void 0===l?void 0:l.map((e=>(0,U.jsx)(s.Z,{download:re,data:e,name:e.fileName,isFile:!0,from:"lead"})))})})):(0,U.jsx)(o.Text,{children:" No Documents Found"})})]})})})]})]}),(0,U.jsx)(c.Z,{mt:3,children:(0,U.jsx)(o.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,U.jsx)(o.GridItem,{colStart:6,children:(0,U.jsxs)(o.Flex,{justifyContent:"right",children:[(0,U.jsx)(r.Button,{onClick:()=>K(!0),leftIcon:(0,U.jsx)(d.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),(0,U.jsx)(r.Button,{style:{background:"red.800"},onClick:()=>$(!0),leftIcon:(0,U.jsx)(d.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})})]})]});var se}}}]);
//# sourceMappingURL=3068.6dbf460d.chunk.js.map