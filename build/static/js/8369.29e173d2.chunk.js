"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[8369],{9170:(e,n,i)=>{i.r(n),i.d(n,{default:()=>g});var o=i(5223),l=i(8735),t=i(8473),d=i(2504),r=i(5272),s=i(2791),a=i(2426),c=i.n(a),u=i(7689),v=i(1087),x=i(7692),h=i(1526),m=i(3712),f=i(4373),j=i(6040),p=i(1634),b=i(2285),k=i(184);const g=e=>{var n,i,a,g,T,S,I,y;const w=(0,u.UO)(),{id:C}=w,A=JSON.parse(localStorage.getItem("user")),[G,L]=(0,s.useState)(),[O,E]=(0,s.useState)(!1),{isOpen:_,onOpen:z,onClose:W}=(0,o.qY)(),[N,B]=(0,s.useState)(!1),[q,D]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{if(C){var e,n,i;E(!0);let o=await(0,h.ac)("api/task/view/",null!==C&&void 0!==C&&C.event?null===C||void 0===C||null===(e=C.event)||void 0===e||null===(n=e._def)||void 0===n||null===(i=n.extendedProps)||void 0===i?void 0:i._id:C);L(null===o||void 0===o?void 0:o.data),E(!1)}})()}),[C,N]);return(0,k.jsxs)("div",{children:[(0,k.jsx)(l.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,k.jsx)(l.GridItem,{colStart:6,children:(0,k.jsxs)(l.Flex,{justifyContent:"right",children:[(0,k.jsxs)(t.v2,{children:[(0,k.jsx)(t.j2,{variant:"outline",colorScheme:"blackAlpha",va:!0,mr:2.5,as:d.Button,rightIcon:(0,k.jsx)(r.ChevronDownIcon,{}),children:"Actions"}),(0,k.jsx)(t.R,{}),(0,k.jsxs)(t.qy,{children:[(0,k.jsx)(t.sN,{onClick:()=>{z()},icon:(0,k.jsx)(r.AddIcon,{}),children:"Add"}),(0,k.jsx)(t.sN,{onClick:()=>B(!0),icon:(0,k.jsx)(r.EditIcon,{}),children:"Edit"}),"admin"!==(null===G||void 0===G?void 0:G.role)&&"admin"===(null===(n=JSON.parse(localStorage.getItem("user")))||void 0===n?void 0:n.role)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.R,{}),(0,k.jsx)(t.sN,{onClick:()=>D(!0),icon:(0,k.jsx)(r.DeleteIcon,{}),children:"Delete"})]})]})]}),(0,k.jsx)(v.rU,{to:"/task",children:(0,k.jsx)(d.Button,{leftIcon:(0,k.jsx)(f.u1R,{}),variant:"brand",children:"Back"})})]})})}),(0,k.jsx)(m.Z,{children:(0,k.jsxs)(l.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.title?null===G||void 0===G?void 0:G.title:" - "})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.category?null===G||void 0===G?void 0:G.category:" - "})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.start?c()(null===G||void 0===G?void 0:G.start).format("L LT"):" - "})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.end?c()(null===G||void 0===G?void 0:G.end).format("L LT"):c()(null===G||void 0===G?void 0:G.start).format("L")})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==G&&void 0!==G&&G.url?(0,k.jsx)("a",{target:"_blank",href:null===G||void 0===G?void 0:G.url,children:(0,k.jsx)(d.IconButton,{borderRadius:"10px",size:"md",icon:(0,k.jsx)(x.Wlb,{})})}):"-"]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.reminder?null===G||void 0===G?void 0:G.reminder:" - "})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),(0,k.jsx)(v.rU,{to:null!==G&&void 0!==G&&G.assignmentTo?"admin"!==(null===A||void 0===A?void 0:A.role)?"/contactView/".concat(null===G||void 0===G?void 0:G.assignmentTo):"/admin/contactView/".concat(null===G||void 0===G?void 0:G.assignmentTo):"admin"!==(null===A||void 0===A?void 0:A.role)?"/leadView/".concat(null===G||void 0===G?void 0:G.assignmentToLead):"/admin/leadView/".concat(null===G||void 0===G?void 0:G.assignmentToLead),children:(0,k.jsx)(l.Text,{color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:null!==G&&void 0!==G&&G.assignmentToName?null===G||void 0===G?void 0:G.assignmentToName:" - "})})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12,md:6},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.createByName?null===G||void 0===G?void 0:G.createByName:" - "})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.description?null===G||void 0===G?void 0:G.description:" - "})]}),(0,k.jsxs)(l.GridItem,{colSpan:{base:12},children:[(0,k.jsx)(l.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,k.jsx)(l.Text,{children:null!==G&&void 0!==G&&G.notes?null===G||void 0===G?void 0:G.notes:" - "})]})]})}),(0,k.jsx)(m.Z,{mt:3,children:(0,k.jsx)(l.Grid,{templateColumns:"repeat(6, 1fr)",gap:1,children:(0,k.jsx)(l.GridItem,{colStart:6,children:(0,k.jsxs)(l.Flex,{justifyContent:"right",children:[(0,k.jsx)(d.Button,{onClick:()=>B(!0),leftIcon:(0,k.jsx)(r.EditIcon,{}),mr:2.5,variant:"outline",colorScheme:"green",children:"Edit"}),"admin"!==(null===G||void 0===G?void 0:G.role)&&"admin"===(null===(i=JSON.parse(localStorage.getItem("user")))||void 0===i?void 0:i.role)&&(0,k.jsx)(d.Button,{style:{background:"red.800"},onClick:()=>D(!0),leftIcon:(0,k.jsx)(r.DeleteIcon,{}),colorScheme:"red",children:"Delete"})]})})})}),(0,k.jsx)(j.Z,{isOpen:_,onClose:W}),(0,k.jsx)(b.Z,{isOpen:N,onClose:B,viewClose:W,id:null!==C&&void 0!==C&&C.event?null===C||void 0===C||null===(a=C.event)||void 0===a||null===(g=a._def)||void 0===g||null===(T=g.extendedProps)||void 0===T?void 0:T._id:C}),(0,k.jsx)(p.Z,{isOpen:q,onClose:D,viewClose:W,url:"api/task/delete/",method:"one",id:null!==C&&void 0!==C&&C.event?null===C||void 0===C||null===(S=C.event)||void 0===S||null===(I=S._def)||void 0===I||null===(y=I.extendedProps)||void 0===y?void 0:y._id:C,redirectPage:"/task"})]})}},855:(e,n,i)=>{i.d(n,{Sx:()=>r});var o=i(1938),l=i(6134),t=i(2791),d=i(5866);l.jU?t.useLayoutEffect:t.useEffect;l.Ts;l.Ts;function r(e,n){var i,r=function(e){void 0===e&&(e="base");var n=(0,o.Fg)().__breakpoints,i=(0,d.O)(),l=t.useMemo((function(){var e;return null!=(e=null==n?void 0:n.details.map((function(e){var n=e.minMaxQuery;return{breakpoint:e.breakpoint,query:n.replace("@media screen and ","")}})))?e:[]}),[n]),r=t.useState((function(){if(e){var n=l.find((function(n){return n.breakpoint===e}));if(n)return n.breakpoint}if(i.window.matchMedia){var o=l.find((function(e){var n=e.query;return i.window.matchMedia(n).matches}));if(o)return o.breakpoint}})),s=r[0],a=r[1];return t.useEffect((function(){var e=l.map((function(e){var n=e.breakpoint,o=e.query,l=i.window.matchMedia(o);l.matches&&a(n);var t=function(e){e.matches&&a(n)};return"function"===typeof l.addEventListener?l.addEventListener("change",t):l.addListener(t),function(){"function"===typeof l.removeEventListener?l.removeEventListener("change",t):l.removeListener(t)}}));return function(){e.forEach((function(e){return e()}))}}),[l,n,i.window]),s}(n),s=(0,o.Fg)();if(r){var a=Array.from((null==(i=s.__breakpoints)?void 0:i.keys)||[]);return function(e,n,i){void 0===i&&(i=l.AV);var o=Object.keys(e).indexOf(n);if(-1!==o)return e[n];for(var t=i.indexOf(n);t>=0;){if(null!=e[i[t]]){o=t;break}t-=1}return-1!==o?e[i[o]]:void 0}((0,l.kJ)(e)?(0,l.sq)(Object.entries((0,l.Yq)(e,a)).map((function(e){return[e[0],e[1]]}))):e,r,a)}}}}]);
//# sourceMappingURL=8369.29e173d2.chunk.js.map