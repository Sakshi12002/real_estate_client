"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[5978],{3712:(e,r,i)=>{i.d(r,{Z:()=>l});var a=i(1938),t=i(8735),n=i(184);const l=function(e){const{variant:r,children:i,...l}=e,o=(0,a.mq)("Card",{variant:r});return(0,n.jsx)(t.Box,{__css:o,height:"100%",...l,children:i})}},3252:(e,r,i)=>{i.d(r,{Z:()=>n});var a=i(2791),t=i(184);const n=function(e){let{targetNumber:r}=e;const[i,n]=(0,a.useState)(0);return(0,a.useEffect)((()=>{const e=setInterval((()=>{i<r&&n((e=>e+1))}),r>500?0:20);return()=>{clearInterval(e)}}),[i,r]),(0,t.jsx)("span",{children:"number"===typeof r?i:r})}},7880:(e,r,i)=>{i.d(r,{Z:()=>u});var a=i(5272),t=i(8735),n=i(1070),l=i(2504),o=i(5154),s=i(7640),d=i(2791),c=i(184);const u=e=>{const{gotoPage:r,gopageValue:i,setGopageValue:u,pageCount:m,canPreviousPage:x,previousPage:h,canNextPage:p,pageOptions:v,setPageSize:g,nextPage:f,pageSize:j,pageIndex:b}=e;return(0,d.useEffect)((()=>{u(1)}),[]),(0,c.jsxs)(t.Flex,{justifyContent:"space-between",mt:2,alignItems:"center",children:[1!==(null===v||void 0===v?void 0:v.length)&&(0,c.jsxs)(t.Flex,{children:[(0,c.jsx)(n.u,{label:"First Page",children:(0,c.jsx)(l.IconButton,{onClick:()=>{r(0),u(1)},isDisabled:!x,icon:(0,c.jsx)(a.ArrowLeftIcon,{h:3,w:3}),mr:4})}),(0,c.jsx)(n.u,{label:"Previous Page",children:(0,c.jsx)(l.IconButton,{onClick:()=>{h(),u((e=>e-1))},isDisabled:!x,icon:(0,c.jsx)(a.ChevronLeftIcon,{h:6,w:6})})})]}),(0,c.jsxs)(t.Flex,{alignItems:"center",children:[1!==(null===v||void 0===v?void 0:v.length)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(t.Text,{flexShrink:"0",mr:8,children:["Page"," ",(0,c.jsx)(t.Text,{fontWeight:"bold",as:"span",children:b+1})," ","of"," ",(0,c.jsx)(t.Text,{fontWeight:"bold",as:"span",children:null===v||void 0===v?void 0:v.length})]}),(0,c.jsx)(t.Text,{flexShrink:"0",children:"Go to page:"})," ",(0,c.jsxs)(o.Y2,{ml:2,mr:8,w:28,min:1,max:null===v||void 0===v?void 0:v.length,value:i,onChange:e=>{r(e?e-1:0),u(e)},defaultValue:b+1,children:[(0,c.jsx)(o.zu,{}),(0,c.jsxs)(o.Fi,{children:[(0,c.jsx)(o.WQ,{}),(0,c.jsx)(o.Y_,{})]})]})]}),(0,c.jsx)(s.Ph,{w:32,value:j,onChange:e=>{g(Number(e.target.value))},children:[5,10,20,30,40,50].map((e=>(0,c.jsxs)("option",{value:e,children:["Show ",e]},e)))})]}),1!==(null===v||void 0===v?void 0:v.length)&&(0,c.jsxs)(t.Flex,{children:[(0,c.jsx)(n.u,{label:"Next Page",children:(0,c.jsx)(l.IconButton,{onClick:()=>{f(),u((e=>e+1))},isDisabled:!p,icon:(0,c.jsx)(a.ChevronRightIcon,{h:6,w:6})})}),(0,c.jsx)(n.u,{label:"Last Page",children:(0,c.jsx)(l.IconButton,{onClick:()=>{r(m-1),u(m)},isDisabled:!p,icon:(0,c.jsx)(a.ArrowRightIcon,{h:3,w:3}),ml:4})})]})]})}},4220:(e,r,i)=>{i.d(r,{Z:()=>t});var a=i(184);const t=()=>(0,a.jsx)("div",{className:"loader"})},2630:(e,r,i)=>{i.d(r,{Ko:()=>p,A5:()=>h,OD:()=>t,Bl:()=>u,Io:()=>c,sL:()=>o,dm:()=>d,Fv:()=>m,GI:()=>l,oz:()=>x,IK:()=>s});var a=i(8007);const t=a.Ry({firstName:a.Z_().min(2).required("First Name is required"),lastName:a.Z_().min(2).required("Last Name is required"),title:a.Z_().required("Title is required"),email:a.Z_().email().required("Email is required"),phoneNumber:a.Rx().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Phonenumber is Required"),mobileNumber:a.Rx().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").notRequired(),physicalAddress:a.Z_().required("Physical address is required"),mailingAddress:a.Z_(),preferredContactMethod:a.Z_().required("Preferred contact method is required"),leadSource:a.Z_(),referralSource:a.Z_(),campaignSource:a.Z_(),leadStatus:a.Z_(),leadRating:a.Rx(),leadConversionProbability:a.Z_(),emailHistory:a.Z_(),phoneCallHistory:a.Z_(),meetingHistory:a.Z_(),notesandComments:a.Z_(),tagsOrLabelsForcategorizingcontacts:a.Z_(),birthday:a.hT(),anniversary:a.hT(),keyMilestones:a.Z_(),dob:a.Z_(),gender:a.Z_(),occupation:a.Z_(),interestsOrHobbies:a.Z_(),communicationFrequency:a.Z_(),preferences:a.Z_(),linkedInProfile:a.Z_(),facebookProfile:a.Z_(),twitterHandle:a.Z_(),otherProfiles:a.Z_(),agentOrTeamMember:a.Z_(),internalNotesOrComments:a.Z_(),createBy:a.Z_()}),n=(new Date).getFullYear(),l=a.Ry({propertyType:a.Z_().required("Property Type Is required"),propertyAddress:a.Z_().required("Property Address Is required"),listingPrice:a.Z_().required("Listing Price Is required"),squareFootage:a.Z_().required("Square Footage Is required"),numberofBedrooms:a.Rx().required("Number Of Bedrooms Is required"),numberofBathrooms:a.Rx().required("Number Of Bathrooms Is required"),yearBuilt:a.Rx().min(1e3).max(n).required("Year Built Is required"),propertyDescription:a.Z_().required("Property Description Is required"),lotSize:a.Z_(),parkingAvailability:a.Z_(),appliancesIncluded:a.Z_(),heatingAndCoolingSystems:a.Z_(),flooringType:a.Z_(),exteriorFeatures:a.Z_(),communityAmenities:a.Z_(),propertyPhotos:a.Z_(),virtualToursOrVideos:a.Z_(),floorPlans:a.Z_(),propertyDocuments:a.Z_(),listingStatus:a.Z_(),listingAgentOrTeam:a.Z_(),listingDate:a.Z_(),marketingDescription:a.Z_(),multipleListingService:a.Z_(),previousOwners:a.Rx().min(0),purchaseHistory:a.Z_(),propertyTaxes:a.Z_(),homeownersAssociation:a.Z_(),mortgageInformation:a.Z_(),sellers:a.Z_(),buyers:a.Z_(),propertyManagers:a.Z_(),contractorsOrServiceProviders:a.Z_(),internalNotesOrComments:a.Z_()}),o=a.Ry({leadName:a.Z_().required("Lead Name Is required"),leadEmail:a.Z_().email().required("Lead Email Is required"),leadPhoneNumber:a.Z_().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Lead Phone Number Is required"),leadAddress:a.Z_().required("Lead Address Is required"),leadSource:a.Z_(),leadStatus:a.Z_(),leadSourceDetails:a.Z_(),leadCampaign:a.Z_(),leadSourceChannel:a.Z_(),leadSourceMedium:a.Z_(),leadSourceCampaign:a.Z_(),leadSourceReferral:a.Z_(),leadAssignedAgent:a.Z_(),leadOwner:a.Z_(),leadCommunicationPreferences:a.Z_(),leadCreationDate:a.hT().required("Lead Creation Date Is required"),leadConversionDate:a.hT().required("Lead Conversion Date Is required"),leadFollowUpDate:a.hT().required("lead Follow Up Date  Is required"),leadFollowUpStatus:a.Z_(),leadScore:a.Rx().required("Lead Score Is required"),leadNurturingWorkflow:a.Z_(),leadEngagementLevel:a.Z_(),leadConversionRate:a.Rx().required("lead Conversion Rate Is required"),leadNurturingStage:a.Z_(),leadNextAction:a.Z_()}),s=a.Ry({firstName:a.Z_().required("First Name Is required"),lastName:a.Z_(),phoneNumber:a.Z_().required("Phone Number Is required").matches(/^\d{10}$/,"Phone Number must be exactly 10 digits"),username:a.Z_().email().required("Email Is required")}),d=a.Ry({username:a.Z_().email().required("Email Is required"),password:a.Z_().required("Password Is required")}),c=a.Ry({sender:a.Z_().required("Sender Is required"),recipient:a.Z_().email().required("Recipient Is required"),cc:a.Z_().email(),bcc:a.Z_().email(),relatedToContact:a.Z_(),relatedToLead:a.Z_(),subject:a.Z_(),message:a.Z_(),createBy:a.Z_(),createByLead:a.Z_()}).test("createBy-or-createByLead-required","Recipient Is required",(function(e){if(!e.createBy&&!e.createByLead)return this.createError({path:"createBy",message:"Recipient Is required"})})),u=a.Ry().shape({folderName:a.Z_().required("Folder Name is required"),filename:a.Z_().min(2,"File Name Must Be At Least 2 Characters"),createBy:a.Z_().required()}),m=a.Ry({sender:a.Z_().required("Sender Is required"),recipient:a.Rx().required("Recipient Is required"),callDuration:a.Z_(),callNotes:a.Z_(),createBy:a.Z_(),createByLead:a.Z_(),category:a.Z_()}).test("createBy-or-createByLead-required","Recipient Is required",(function(e){if(!e.createBy&&!e.createByLead)return this.createError({path:"createBy",message:"Recipient Is required"})})),x=a.Ry({sender:a.Z_().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("Sender Is required"),to:a.Z_().min(1e9,"Phone number is invalid").max(999999999999,"Phone number is invalid").required("To Is required"),message:a.Z_(),createFor:a.Z_().required("Create By Is required")}),h=a.Ry({title:a.Z_().required("Title Is required"),category:a.Z_(),description:a.Z_(),notes:a.Z_(),reminder:a.Z_(),start:a.Z_().required("Start Is required"),end:a.Z_(),backgroundColor:a.Z_(),borderColor:a.Z_(),textColor:a.Z_(),display:a.Z_(),url:a.Z_(),createBy:a.Z_()}),p=a.Ry({agenda:a.Z_().required("Agenda Is required"),attendes:a.IX().of(a.Z_().trim()),attendesLead:a.IX().of(a.Z_().trim()),location:a.Z_(),related:a.Z_(),dateTime:a.Z_().required("Date Time Is required"),notes:a.Z_(),createFor:a.Z_(),createdBy:a.Z_()})},6311:(e,r,i)=>{i.d(r,{Z:()=>v});var a=i(7917),t=i(8735),n=i(3393),l=i(5798),o=i(6123),s=i(2504),d=i(4220),c=i(2506),u=i(2791),m=i(9126),x=i(2630),h=i(1526),p=i(184);const v=e=>{const{onClose:r,isOpen:i,fetchData:v}=e,g=JSON.parse(localStorage.getItem("user")),[f,j]=(0,u.useState)(!1),[b,Z]=(0,u.useState)(!1),[_,S]=(0,u.useState)(!1),y={sender:null===g||void 0===g?void 0:g._id,recipient:"",subject:"",message:"",createBy:"",createByLead:"",startDate:"",endDate:""},C=(0,c.TA)({initialValues:y,validationSchema:x.Io,onSubmit:(e,r)=>{let{resetForm:i}=r;T(),i()}}),{errors:q,touched:I,values:D,handleBlur:P,handleChange:B,handleSubmit:N,setFieldValue:w}=C,T=async()=>{try{j(!0),200===(await(0,h.Fv)("api/email/add",D)).status&&(e.onClose(),v())}catch(r){console.log(r)}finally{j(!1)}};return(0,u.useEffect)((()=>{(async()=>{if(e.id&&"true"!==e.lead){let n=await(0,h.ac)("api/contact/view/",e.id);var r,i,a,t;200===(null===n||void 0===n?void 0:n.status)&&(w("recipient",null===n||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.contact)||void 0===i?void 0:i.email),w("createBy",e.id),D.recipient=null===n||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.contact)||void 0===t?void 0:t.email)}else if(e.id&&"true"===e.lead){let r=await(0,h.ac)("api/lead/view/",e.id);var n,l,o,s;200===(null===r||void 0===r?void 0:r.status)&&(w("recipient",null===r||void 0===r||null===(n=r.data)||void 0===n||null===(l=n.lead)||void 0===l?void 0:l.leadEmail),w("createByLead",e.id),D.recipient=null===r||void 0===r||null===(o=r.data)||void 0===o||null===(s=o.lead)||void 0===s?void 0:s.leadEmail)}})()}),[e.id]),(0,p.jsxs)(a.u_,{onClose:r,isOpen:i,isCentered:!0,children:[(0,p.jsx)(a.ZA,{}),(0,p.jsxs)(a.hz,{children:[(0,p.jsx)(a.xB,{children:"Send Email "}),(0,p.jsx)(a.ol,{}),(0,p.jsx)(a.fe,{children:(0,p.jsxs)(t.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,p.jsx)(t.Text,{color:"red",children:"*"})]}),(0,p.jsx)(l.Input,{fontSize:"sm",onChange:B,onBlur:P,value:D.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:q.recipient&&I.recipient?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",q.recipient&&I.recipient&&q.recipient]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Subject"}),(0,p.jsx)(l.Input,{fontSize:"sm",placeholder:"Enter subject",onChange:B,onBlur:P,value:D.subject,name:"subject",fontWeight:"500",borderColor:q.subject&&I.subject?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",q.subject&&I.subject&&q.subject]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Start Date"}),(0,p.jsx)(l.Input,{type:"datetime-local",fontSize:"sm",onChange:B,onBlur:P,value:D.startDate,name:"startDate",fontWeight:"500",borderColor:null!==q&&void 0!==q&&q.startDate&&null!==I&&void 0!==I&&I.startDate?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",q.startDate&&I.startDate&&q.startDate]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,p.jsx)(l.Input,{type:"datetime-local",fontSize:"sm",onChange:B,onBlur:P,value:D.endDate,name:"endDate",fontWeight:"500",borderColor:null!==q&&void 0!==q&&q.endDate&&null!==I&&void 0!==I&&I.endDate?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",q.endDate&&I.endDate&&q.endDate]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Message"}),(0,p.jsx)(o.g,{fontSize:"sm",placeholder:"Here Type message",resize:"none",onChange:B,onBlur:P,value:D.message,name:"message",fontWeight:"500",borderColor:q.message&&I.message?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",q.message&&I.message&&q.message]})]})]})}),(0,p.jsxs)(a.mz,{children:[(0,p.jsx)(s.Button,{variant:"brand",onClick:N,rightIcon:(0,p.jsx)(m.nkP,{}),disabled:!!f,children:f?(0,p.jsx)(d.Z,{}):"Send"}),(0,p.jsx)(s.Button,{onClick:()=>{C.resetForm(),r()},children:"Close"})]})]})]})}},5978:(e,r,i)=>{i.r(r),i.d(r,{default:()=>C});var a=i(5272),t=i(5223),n=i(8735),l=i(2504),o=i(2791),s=i(2196),d=i(8227),c=i(7005),u=i(2732),m=i(1358),x=i(3712),h=i(3252),p=i(7880),v=i(4220),g=i(6355),f=i(1087),j=i(1526),b=i(6960),Z=i(6311),_=i(520),S=i(184);function y(e){const{columnsData:r}=e,i=(0,d.ff)("secondaryGray.900","white"),t=(0,d.ff)("gray.200","whiteAlpha.100"),l=(0,o.useMemo)((()=>r),[r]),[s,y]=(0,o.useState)([]),[C,q]=(0,o.useState)(),[I,D]=(0,o.useState)(!1),[P,B]=(0,o.useState)(!1),[N,w]=(0,o.useState)(!1),[T,L]=(0,o.useState)(),[F,z]=(0,o.useState)(),[R,O]=(0,o.useState)([]),k=JSON.parse(localStorage.getItem("user")),[A,W]=(0,o.useState)(!1),E=async()=>{W(!0);let e=await(0,j.ac)("admin"===k.role?"api/lead/":"api/lead/?createBy=".concat(k._id));O(e.data),W(!1)},H=(0,m.useTable)({columns:l,data:R,initialState:{pageIndex:0}},m.useGlobalFilter,m.useSortBy,m.usePagination),{getTableProps:G,getTableBodyProps:V,headerGroups:M,prepareRow:Y,page:U,canPreviousPage:X,canNextPage:J,pageOptions:K,pageCount:$,gotoPage:Q,nextPage:ee,previousPage:re,setPageSize:ie,state:{pageIndex:ae,pageSize:te}}=H;K.length<C&&q(K.length);return(0,o.useEffect)((()=>{E()}),[I,e.isOpen]),(0,S.jsxs)(x.Z,{direction:"column",w:"100%",px:"0px",overflowX:{sm:"scroll",lg:"hidden"},children:[(0,S.jsxs)(n.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:[(0,S.jsxs)(n.Text,{color:i,fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:["Leads  (",(0,S.jsx)(h.Z,{targetNumber:null===R||void 0===R?void 0:R.length}),")"]}),s.length>0&&(0,S.jsx)(a.DeleteIcon,{onClick:()=>D(!0),color:"red"})]}),(0,S.jsx)(b.Z,{isOpen:I,onClose:D,setSelectedValues:y,url:"api/lead/deleteMany",data:s,method:"many"}),(0,S.jsx)(n.Box,{overflowY:"auto",className:"table-fix-container",children:(0,S.jsxs)(c.iA,{...G(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,S.jsx)(c.hr,{children:null===M||void 0===M?void 0:M.map(((e,r)=>{var i;return(0,o.createElement)(c.Tr,{...e.getHeaderGroupProps(),key:r},null===(i=e.headers)||void 0===i?void 0:i.map(((e,r)=>(0,o.createElement)(c.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:r,borderColor:t},(0,S.jsxs)(n.Flex,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:[e.render("Header"),!1!==e.isSortable&&(0,S.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,S.jsx)(g.sF,{}):(0,S.jsx)(g.h3_,{}):(0,S.jsx)(g.roE,{})})]})))))}))}),(0,S.jsx)(c.p3,{...V(),children:A?(0,S.jsx)(c.Tr,{children:(0,S.jsx)(c.Td,{colSpan:null===l||void 0===l?void 0:l.length,children:(0,S.jsx)(n.Flex,{justifyContent:"center",alignItems:"center",width:"100%",color:i,fontSize:"sm",fontWeight:"700",children:(0,S.jsx)(v.Z,{})})})}):0===(null===R||void 0===R?void 0:R.length)?(0,S.jsx)(c.Tr,{children:(0,S.jsx)(c.Td,{colSpan:l.length,children:(0,S.jsx)(n.Text,{textAlign:"center",width:"100%",color:i,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}):null===U||void 0===U?void 0:U.map(((e,r)=>{var a;return Y(e),(0,o.createElement)(c.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:r},null===e||void 0===e||null===(a=e.cells)||void 0===a?void 0:a.map(((e,r)=>{let a="";var t;if("#"===(null===e||void 0===e?void 0:e.column.Header))a=(0,S.jsxs)(n.Flex,{align:"center",children:[(0,S.jsx)(u.XZ,{colorScheme:"brandScheme",value:s,isChecked:s.includes(null===e||void 0===e?void 0:e.value),onChange:r=>((e,r)=>{e.target.checked?y((e=>[...e,r])):y((e=>e.filter((e=>e!==r))))})(r,null===e||void 0===e?void 0:e.value),me:"10px"}),(0,S.jsx)(n.Text,{color:i,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.index)+1})]});else if("Lead Name"===(null===e||void 0===e?void 0:e.column.Header)){var l,d;a=(0,S.jsx)(f.rU,{to:"admin"!==(null===k||void 0===k?void 0:k.role)?"/leadView/".concat(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.values._id):"/admin/leadView/".concat(null===e||void 0===e||null===(d=e.row)||void 0===d?void 0:d.values._id),children:(0,S.jsx)(n.Text,{me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},color:"green.400",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value})})}else"Lead Email"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,S.jsx)(n.Text,{me:"10px",fontSize:"sm",fontWeight:"700",color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline",cursor:"pointer"}},onClick:()=>{var r;B(!0),L(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.values._id)},children:null===e||void 0===e?void 0:e.value}):"Lead PhoneNumber"===(null===e||void 0===e?void 0:e.column.Header)?a=(0,S.jsx)(n.Text,{me:"10px",fontSize:"sm",fontWeight:"700",color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline",cursor:"pointer"}},onClick:()=>{var r;w(!0),z(null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.values._id)},children:null===e||void 0===e?void 0:e.value}):("Lead Address"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Status"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Owner"===(null===e||void 0===e?void 0:e.column.Header)||"Lead Score"===(null===e||void 0===e?void 0:e.column.Header))&&(a=(0,S.jsx)(n.Text,{color:i,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value}));return(0,o.createElement)(c.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:r,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},a)})))}))})]})}),(null===R||void 0===R?void 0:R.length)>5&&(0,S.jsx)(p.Z,{gotoPage:Q,gopageValue:C,setGopageValue:q,pageCount:$,canPreviousPage:X,previousPage:re,canNextPage:J,pageOptions:K,setPageSize:ie,nextPage:ee,pageSize:te,pageIndex:ae}),(0,S.jsx)(Z.Z,{fetchData:E,isOpen:P,onClose:B,data:null===R||void 0===R?void 0:R.contact,lead:"true",id:T}),(0,S.jsx)(_.Z,{fetchData:E,isOpen:N,onClose:w,data:null===R||void 0===R?void 0:R.contact,id:F,lead:"true"})]})}const C=()=>{const[e,r]=(0,o.useState)([]),i=[{Header:"#",accessor:"_id",isSortable:!1,width:10},{Header:"Lead Name",accessor:"leadName",width:20},{Header:"Lead Status",accessor:"leadStatus"},{Header:"Lead Email",accessor:"leadEmail"},{Header:"Lead PhoneNumber",accessor:"leadPhoneNumber"},{Header:"Lead Address",accessor:"leadAddress"},{Header:"Lead Owner",accessor:"leadOwner"},{Header:"Lead Score",accessor:"leadScore"}],{isOpen:d,onOpen:c,onClose:u}=(0,t.qY)();(0,o.useEffect)((()=>{r(i)}),[u]);return(0,S.jsxs)("div",{children:[(0,S.jsx)(n.Grid,{templateColumns:"repeat(6, 1fr)",mb:3,gap:1,children:(0,S.jsx)(n.GridItem,{colStart:6,textAlign:"right",children:(0,S.jsx)(l.Button,{onClick:()=>{c()},leftIcon:(0,S.jsx)(a.AddIcon,{}),variant:"brand",children:"Add"})})}),(0,S.jsx)(y,{columnsData:e,isOpen:d}),(0,S.jsx)(s.Z,{isOpen:d,size:"lg",onClose:u})]})}},520:(e,r,i)=>{i.d(r,{Z:()=>v});var a=i(7917),t=i(8735),n=i(3393),l=i(5798),o=i(6123),s=i(2504),d=i(4220),c=i(2506),u=i(2791),m=i(9126),x=i(2630),h=i(1526),p=i(184);const v=e=>{const{onClose:r,isOpen:i,fetchData:v}=e,[g,f]=(0,u.useState)(!1),j=JSON.parse(localStorage.getItem("user")),b={sender:null===j||void 0===j?void 0:j._id,recipient:"",callDuration:"",callNotes:"",createBy:"",createByLead:"",startDate:"",endDate:""},Z=(0,c.TA)({initialValues:b,validationSchema:x.Fv,onSubmit:(e,r)=>{let{resetForm:i}=r;P(),i()}}),{errors:_,touched:S,values:y,handleBlur:C,handleChange:q,handleSubmit:I,setFieldValue:D}=Z,P=async()=>{try{f(!0),200===(await(0,h.Fv)("api/phoneCall/add",y)).status&&(e.onClose(),v())}catch(r){console.log(r)}finally{f(!1)}};return(0,u.useEffect)((()=>{(async()=>{if(e.id&&"true"!==e.lead){let n=await(0,h.ac)("api/contact/view/",e.id);var r,i,a,t;200===(null===n||void 0===n?void 0:n.status)&&(D("recipient",null===n||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.contact)||void 0===i?void 0:i.phoneNumber),D("createBy",null===e||void 0===e?void 0:e.id),y.recipient=null===n||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.contact)||void 0===t?void 0:t.phoneNumber)}else if(e.id&&"true"===e.lead){let r=await(0,h.ac)("api/lead/view/",e.id);var n,l,o,s;200===(null===r||void 0===r?void 0:r.status)&&(D("recipient",null===r||void 0===r||null===(n=r.data)||void 0===n||null===(l=n.lead)||void 0===l?void 0:l.leadPhoneNumber),D("createByLead",e.id),y.recipient=null===r||void 0===r||null===(o=r.data)||void 0===o||null===(s=o.lead)||void 0===s?void 0:s.leadPhoneNumber)}})()}),[e.id]),(0,p.jsxs)(a.u_,{onClose:r,isOpen:i,isCentered:!0,children:[(0,p.jsx)(a.ZA,{}),(0,p.jsxs)(a.hz,{children:[(0,p.jsx)(a.xB,{children:"Add Call "}),(0,p.jsx)(a.ol,{}),(0,p.jsx)(a.fe,{children:(0,p.jsxs)(t.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Recipient",(0,p.jsx)(t.Text,{color:"red",children:"*"})]}),(0,p.jsx)(l.Input,{fontSize:"sm",type:"number",onChange:q,onBlur:C,value:y.recipient,name:"recipient",placeholder:"Recipient",fontWeight:"500",borderColor:_.recipient&&S.recipient?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",_.recipient&&S.recipient&&_.recipient]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Start Date"}),(0,p.jsx)(l.Input,{type:"datetime-local",fontSize:"sm",onChange:q,onBlur:C,value:y.startDate,name:"startDate",fontWeight:"500",borderColor:null!==_&&void 0!==_&&_.startDate&&null!==S&&void 0!==S&&S.startDate?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",_.startDate&&S.startDate&&_.startDate]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"End Date"}),(0,p.jsx)(l.Input,{type:"datetime-local",fontSize:"sm",onChange:q,onBlur:C,value:y.endDate,name:"endDate",fontWeight:"500",borderColor:null!==_&&void 0!==_&&_.endDate&&null!==S&&void 0!==S&&S.endDate?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",_.endDate&&S.endDate&&_.endDate]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,p.jsxs)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:["Call Duration",(0,p.jsx)(t.Text,{color:"red",children:"*"})]}),(0,p.jsx)(l.Input,{fontSize:"sm",onChange:q,onBlur:C,value:y.callDuration,name:"callDuration",placeholder:"call Duration",fontWeight:"500",borderColor:_.callDuration&&S.callDuration?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",_.callDuration&&S.callDuration&&_.callDuration]})]}),(0,p.jsxs)(t.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(n.FormLabel,{display:"flex",ms:"4px",fontSize:"sm",fontWeight:"500",mb:"8px",children:"Call Notes"}),(0,p.jsx)(o.g,{resize:"none",fontSize:"sm",placeholder:"Enter Call Notes",onChange:q,onBlur:C,value:y.callNotes,name:"callNotes",fontWeight:"500",borderColor:_.callNotes&&S.callNotes?"red.300":null}),(0,p.jsxs)(t.Text,{mb:"10px",color:"red",children:[" ",_.callNotes&&S.callNotes&&_.callNotes]})]})]})}),(0,p.jsxs)(a.mz,{children:[(0,p.jsx)(s.Button,{variant:"brand",leftIcon:(0,p.jsx)(m.lfG,{}),disabled:!!g,onClick:I,children:g?(0,p.jsx)(d.Z,{}):"Call"}),(0,p.jsx)(s.Button,{onClick:()=>{Z.resetForm(),r()},children:"Close"})]})]})]})}},6123:(e,r,i)=>{i.d(r,{g:()=>d});var a=i(3393),t=i(1938),n=i(6134),l=i(2791);function o(){return o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},o.apply(this,arguments)}var s=["className","rows"],d=(0,t.Gp)((function(e,r){var i=(0,t.mq)("Textarea",e),d=(0,t.Lr)(e),c=d.className,u=d.rows,m=function(e,r){if(null==e)return{};var i,a,t={},n=Object.keys(e);for(a=0;a<n.length;a++)i=n[a],r.indexOf(i)>=0||(t[i]=e[i]);return t}(d,s),x=(0,a.useFormControl)(m),h=u?(0,n.CE)(i,["h","minH","height","minHeight"]):i;return l.createElement(t.m$.textarea,o({ref:r,rows:u},x,{className:(0,n.cx)("chakra-textarea",c),__css:h}))}));n.Ts&&(d.displayName="Textarea")}}]);
//# sourceMappingURL=5978.9cbfa284.chunk.js.map