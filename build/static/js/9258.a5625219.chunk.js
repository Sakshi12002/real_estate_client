"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[9258],{8460:(e,n,o)=>{o.d(n,{Z:()=>p});var i=o(8227),t=o(8735),l=o(2504),a=o(7005),d=o(2791),r=o(1358),s=o(5272),c=o(3712),u=o(3252),v=o(7880),x=o(4220),h=o(6355),m=o(4399),f=o(184);function p(e){const{columnsData:n,fetchData:o,data:p,isLoding:g,setTaskModel:j,className:T}=e,b=(0,i.ff)("secondaryGray.900","white"),S=(0,i.ff)("gray.200","whiteAlpha.100"),k=(0,d.useMemo)((()=>n),[n]),[w,y]=(0,d.useState)(!1),[z,C]=(0,d.useState)(),[I,P]=(0,d.useState)(),W=(0,r.useTable)({columns:k,data:p,initialState:{pageIndex:0}},r.useGlobalFilter,r.useSortBy,r.usePagination),{getTableProps:_,getTableBodyProps:A,headerGroups:D,prepareRow:E,page:G,canPreviousPage:L,canNextPage:O,pageOptions:B,pageCount:H,gotoPage:N,nextPage:Z,previousPage:F,setPageSize:R,state:{pageIndex:V,pageSize:M}}=W;B.length<I&&P(B.length);return(0,f.jsxs)(c.Z,{direction:"column",w:"100%",px:"0px",overflowX:{sm:"scroll",lg:"hidden"},children:[(0,f.jsx)(m.Z,{fetchData:o,isOpen:w,onClose:y,info:z}),(0,f.jsxs)(t.Flex,{px:"25px",justify:"space-between",mb:"20px",align:"center",children:[(0,f.jsxs)(t.Text,{color:"secondaryGray.900",fontSize:"22px",fontWeight:"700",lineHeight:"100%",children:["Tasks (",(0,f.jsx)(u.Z,{targetNumber:null===p||void 0===p?void 0:p.length}),")"]}),j&&(0,f.jsx)(l.Button,{onClick:()=>j(!0),leftIcon:(0,f.jsx)(s.AddIcon,{}),colorScheme:"gray",children:"Create Task"})]}),(0,f.jsx)(t.Box,{overflowY:"auto",className:T,children:(0,f.jsxs)(a.iA,{..._(),variant:"simple",color:"gray.500",mb:"24px",children:[(0,f.jsx)(a.hr,{children:null===D||void 0===D?void 0:D.map(((e,n)=>{var o;return(0,d.createElement)(a.Tr,{...e.getHeaderGroupProps(),key:n},null===(o=e.headers)||void 0===o?void 0:o.map(((e,n)=>(0,d.createElement)(a.Th,{...e.getHeaderProps(!1!==e.isSortable&&e.getSortByToggleProps()),pe:"10px",key:n,borderColor:S},(0,f.jsxs)(t.Flex,{justify:"space-between",align:"center",fontSize:{sm:"10px",lg:"12px"},color:"gray.400",children:[e.render("Header"),!1!==e.isSortable&&(0,f.jsx)("span",{children:e.isSorted?e.isSortedDesc?(0,f.jsx)(h.sF,{}):(0,f.jsx)(h.h3_,{}):(0,f.jsx)(h.roE,{})})]})))))}))}),(0,f.jsx)(a.p3,{...A(),children:g?(0,f.jsx)(a.Tr,{children:(0,f.jsx)(a.Td,{colSpan:null===k||void 0===k?void 0:k.length,children:(0,f.jsx)(t.Flex,{justifyContent:"center",alignItems:"center",width:"100%",color:b,fontSize:"sm",fontWeight:"700",children:(0,f.jsx)(x.Z,{})})})}):0===(null===p||void 0===p?void 0:p.length)?(0,f.jsx)(a.Tr,{children:(0,f.jsx)(a.Td,{colSpan:k.length,children:(0,f.jsx)(t.Text,{textAlign:"center",width:"100%",color:b,fontSize:"sm",fontWeight:"700",children:"-- No Data Found --"})})}):null===G||void 0===G?void 0:G.map(((e,n)=>{var o;return E(e),(0,d.createElement)(a.Tr,{...null===e||void 0===e?void 0:e.getRowProps(),key:n},null===e||void 0===e||null===(o=e.cells)||void 0===o?void 0:o.map(((e,n)=>{let o="";var i;if("#"===(null===e||void 0===e?void 0:e.column.Header))o=(0,f.jsx)(t.Flex,{align:"center",children:(0,f.jsx)(t.Text,{color:b,fontSize:"sm",fontWeight:"700",children:(null===e||void 0===e||null===(i=e.row)||void 0===i?void 0:i.index)+1})});else if("Title"===(null===e||void 0===e?void 0:e.column.Header))o=(0,f.jsx)(t.Text,{onClick:()=>(e=>{var n,o;C(null===e||void 0===e||null===(n=e.row)||void 0===n||null===(o=n.values)||void 0===o?void 0:o._id),y(!0)})(e),me:"10px",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"},cursor:"pointer"},color:"green.400",fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value});else if("Related"===(null===e||void 0===e?void 0:e.column.Header))o=(0,f.jsx)(t.Text,{me:"10px",color:b,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "});else if("Assignment To"===(null===e||void 0===e?void 0:e.column.Header))o=(0,f.jsx)(t.Text,{me:"10px",color:b,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:" - "});else if("Start Date"===(null===e||void 0===e?void 0:e.column.Header))o=(0,f.jsx)(t.Text,{color:b,fontSize:"sm",fontWeight:"700",children:null===e||void 0===e?void 0:e.value});else if("End Date"===(null===e||void 0===e?void 0:e.column.Header)){var l;o=(0,f.jsx)(t.Text,{color:b,fontSize:"sm",fontWeight:"700",children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.values.start})}return(0,d.createElement)(a.Td,{...null===e||void 0===e?void 0:e.getCellProps(),key:n,fontSize:{sm:"14px"},minW:{sm:"150px",md:"200px",lg:"auto"},borderColor:"transparent"},o)})))}))})]})}),(null===p||void 0===p?void 0:p.length)>5&&(0,f.jsx)(v.Z,{gotoPage:N,gopageValue:I,setGopageValue:P,pageCount:H,canPreviousPage:L,previousPage:F,canNextPage:O,pageOptions:B,setPageSize:R,nextPage:Z,pageSize:M,pageIndex:V})]})}},4399:(e,n,o)=>{o.d(n,{Z:()=>g});var i=o(5272),t=o(7917),l=o(2504),a=o(8735),d=o(4220),r=o(2426),s=o.n(r),c=o(2791),u=o(7692),v=o(1087),x=o(1526),h=o(1634),m=o(2285),f=o(7689),p=o(184);const g=e=>{var n,o,r,g,j,T;const{onClose:b,isOpen:S,info:k,fetchData:w}=e,[y,z]=(0,c.useState)(),[C,I]=(0,c.useState)(!1),[P,W]=(0,c.useState)(!1),_=JSON.parse(localStorage.getItem("user")),[A,D]=(0,c.useState)(!1),E=(0,f.s0)();(0,c.useEffect)((()=>{(async()=>{if(k){var e,n,o;D(!0);let i=await(0,x.ac)("api/task/view/",null!==k&&void 0!==k&&k.event?null===k||void 0===k||null===(e=k.event)||void 0===e||null===(n=e._def)||void 0===n||null===(o=n.extendedProps)||void 0===o?void 0:o._id:k);z(null===i||void 0===i?void 0:i.data),D(!1)}})()}),[k]);return(0,p.jsxs)(t.u_,{isOpen:S,size:"md",isCentered:!0,children:[(0,p.jsx)(t.ZA,{}),(0,p.jsxs)(t.hz,{children:[(0,p.jsxs)(t.xB,{justifyContent:"space-between",display:"flex",children:["Task",(0,p.jsx)(l.IconButton,{onClick:()=>b(!1),icon:(0,p.jsx)(i.CloseIcon,{})})]}),A?(0,p.jsx)(a.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,p.jsx)(d.Z,{})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(t.fe,{children:(0,p.jsxs)(a.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.title?null===y||void 0===y?void 0:y.title:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.category?null===y||void 0===y?void 0:y.category:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.start?s()(null===y||void 0===y?void 0:y.start).format("L LT"):" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.end?s()(null===y||void 0===y?void 0:y.end).format("L LT"):s()(null===y||void 0===y?void 0:y.start).format("L")})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==y&&void 0!==y&&y.url?(0,p.jsx)("a",{target:"_blank",href:null===y||void 0===y?void 0:y.url,children:(0,p.jsx)(l.IconButton,{borderRadius:"10px",size:"md",icon:(0,p.jsx)(u.Wlb,{})})}):"-"]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.reminder?null===y||void 0===y?void 0:y.reminder:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),(0,p.jsx)(v.rU,{to:null!==y&&void 0!==y&&y.assignmentTo?"admin"!==(null===_||void 0===_?void 0:_.role)?"/contactView/".concat(null===y||void 0===y?void 0:y.assignmentTo):"/admin/contactView/".concat(null===y||void 0===y?void 0:y.assignmentTo):"admin"!==(null===_||void 0===_?void 0:_.role)?"/leadView/".concat(null===y||void 0===y?void 0:y.assignmentToLead):"/admin/leadView/".concat(null===y||void 0===y?void 0:y.assignmentToLead),children:(0,p.jsx)(a.Text,{color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:null!==y&&void 0!==y&&y.assignmentToName?null===y||void 0===y?void 0:y.assignmentToName:" - "})})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.createByName?null===y||void 0===y?void 0:y.createByName:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.description?null===y||void 0===y?void 0:y.description:" - "})]}),(0,p.jsxs)(a.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(a.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,p.jsx)(a.Text,{children:null!==y&&void 0!==y&&y.notes?null===y||void 0===y?void 0:y.notes:" - "})]})]})}),(0,p.jsxs)(t.ze,{children:[(0,p.jsx)(l.IconButton,{variant:"outline",onClick:()=>(()=>{var e,n,o,i,t,l;null!==k&&void 0!==k&&k.event?E("admin"!==(null===_||void 0===_?void 0:_.role)?"/view/".concat(null===k||void 0===k||null===(e=k.event)||void 0===e||null===(n=e._def)||void 0===n||null===(o=n.extendedProps)||void 0===o?void 0:o._id):"/admin/view/".concat(null===k||void 0===k||null===(i=k.event)||void 0===i||null===(t=i._def)||void 0===t||null===(l=t.extendedProps)||void 0===l?void 0:l._id)):E("admin"!==(null===_||void 0===_?void 0:_.role)?"/view/".concat(k):"/admin/view/".concat(k))})(),borderRadius:"10px",size:"md",icon:(0,p.jsx)(i.ViewIcon,{})}),(0,p.jsx)(l.IconButton,{variant:"outline",onClick:()=>I(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(i.EditIcon,{})}),(0,p.jsx)(l.IconButton,{colorScheme:"red",onClick:()=>W(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(i.DeleteIcon,{})}),(0,p.jsx)(m.Z,{fetchData:w,isOpen:C,onClose:I,viewClose:b,id:null!==k&&void 0!==k&&k.event?null===k||void 0===k||null===(n=k.event)||void 0===n||null===(o=n._def)||void 0===o||null===(r=o.extendedProps)||void 0===r?void 0:r._id:k}),(0,p.jsx)(h.Z,{fetchData:e.fetchData,isOpen:P,onClose:W,viewClose:b,url:"api/task/delete/",method:"one",id:null!==k&&void 0!==k&&k.event?null===k||void 0===k||null===(g=k.event)||void 0===g||null===(j=g._def)||void 0===j||null===(T=j.extendedProps)||void 0===T?void 0:T._id:k})]})]})]})]})}},4218:(e,n,o)=>{o.r(n),o.d(n,{default:()=>x});var i=o(5272),t=o(5223),l=o(8735),a=o(2504),d=o(2791),r=o(1526),s=o(8460),c=o(6040),u=o(184);const v=e=>{const{isOpen:n,onOpen:o,onClose:v}=(0,t.qY)(),[x,h]=(0,d.useState)([]),m=JSON.parse(localStorage.getItem("user")),[f,p]=(0,d.useState)(!1),g=async()=>{p(!0);let e=await(0,r.ac)("admin"===m.role?"api/task/":"api/task/?createBy=".concat(m._id));h(e.data),p(!1)};return(0,d.useEffect)((()=>{g()}),[]),(0,u.jsxs)("div",{children:[(0,u.jsx)(l.Flex,{alignItems:"center",justifyContent:"right",flexWrap:"wrap",mb:3,children:(0,u.jsx)(a.Button,{onClick:()=>{o()},leftIcon:(0,u.jsx)(i.AddIcon,{}),variant:"brand",children:"Create Task"})}),(0,u.jsx)(s.Z,{columnsData:[{Header:"#",accessor:"_id",isSortable:!1,width:5},{Header:"Title",accessor:"title"},{Header:"Related",accessor:"category"},{Header:"Assignment To",accessor:"assignmentToName"},{Header:"Start Date",accessor:"start"},{Header:"End Date",accessor:"end"}],fetchData:g,data:x,isLoding:f,className:"table-fix-container"}),(0,u.jsx)(c.Z,{isOpen:n,fetchData:g,onClose:v})]})},x=()=>(0,u.jsx)(v,{})},855:(e,n,o)=>{o.d(n,{Sx:()=>d});var i=o(1938),t=o(6134),l=o(2791),a=o(5866);t.jU?l.useLayoutEffect:l.useEffect;t.Ts;t.Ts;function d(e,n){var o,d=function(e){void 0===e&&(e="base");var n=(0,i.Fg)().__breakpoints,o=(0,a.O)(),t=l.useMemo((function(){var e;return null!=(e=null==n?void 0:n.details.map((function(e){var n=e.minMaxQuery;return{breakpoint:e.breakpoint,query:n.replace("@media screen and ","")}})))?e:[]}),[n]),d=l.useState((function(){if(e){var n=t.find((function(n){return n.breakpoint===e}));if(n)return n.breakpoint}if(o.window.matchMedia){var i=t.find((function(e){var n=e.query;return o.window.matchMedia(n).matches}));if(i)return i.breakpoint}})),r=d[0],s=d[1];return l.useEffect((function(){var e=t.map((function(e){var n=e.breakpoint,i=e.query,t=o.window.matchMedia(i);t.matches&&s(n);var l=function(e){e.matches&&s(n)};return"function"===typeof t.addEventListener?t.addEventListener("change",l):t.addListener(l),function(){"function"===typeof t.removeEventListener?t.removeEventListener("change",l):t.removeListener(l)}}));return function(){e.forEach((function(e){return e()}))}}),[t,n,o.window]),r}(n),r=(0,i.Fg)();if(d){var s=Array.from((null==(o=r.__breakpoints)?void 0:o.keys)||[]);return function(e,n,o){void 0===o&&(o=t.AV);var i=Object.keys(e).indexOf(n);if(-1!==i)return e[n];for(var l=o.indexOf(n);l>=0;){if(null!=e[o[l]]){i=l;break}l-=1}return-1!==i?e[o[i]]:void 0}((0,t.kJ)(e)?(0,t.sq)(Object.entries((0,t.Yq)(e,s)).map((function(e){return[e[0],e[1]]}))):e,d,s)}}}}]);
//# sourceMappingURL=9258.a5625219.chunk.js.map