"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[3113],{3712:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(1938),r=a(8735),l=a(184);const s=function(e){const{variant:t,children:a,...s}=e,i=(0,n.mq)("Card",{variant:t});return(0,l.jsx)(r.Box,{__css:i,height:"100%",...s,children:a})}},3252:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(2791),r=a(184);const l=function(e){let{targetNumber:t}=e;const[a,l]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=setInterval((()=>{a<t&&l((e=>e+1))}),t>500?0:20);return()=>{clearInterval(e)}}),[a,t]),(0,r.jsx)("span",{children:"number"===typeof t?a:t})}},3113:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var n=a(8227),r=a(8735),l=a(9113),s=a(2504),i=a(5272),o=a(3712),c=a(1938),d=a(6134),u=(a(1212),a(2791));function p(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(this,arguments)}var m=["className","children"],x=(0,c.Gp)((function(e,t){var a=(0,c.yK)();return u.createElement(c.m$.dt,h({ref:t},e,{className:(0,d.cx)("chakra-stat__label",e.className),__css:a.label}))}));d.Ts&&(x.displayName="StatLabel");var f=(0,c.Gp)((function(e,t){var a=(0,c.yK)();return u.createElement(c.m$.dd,h({ref:t},e,{className:(0,d.cx)("chakra-stat__help-text",e.className),__css:a.helpText}))}));d.Ts&&(f.displayName="StatHelpText");var v=(0,c.Gp)((function(e,t){var a=(0,c.yK)();return u.createElement(c.m$.dd,h({ref:t},e,{className:(0,d.cx)("chakra-stat__number",e.className),__css:h({},a.number,{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));d.Ts&&(v.displayName="StatNumber");var j=function(e){return u.createElement(l.JO,h({color:"red.400"},e),u.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))};d.Ts&&(j.displayName="StatDownArrow");var y=function(e){return u.createElement(l.JO,h({color:"green.400"},e),u.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))};d.Ts&&(y.displayName="StatUpArrow");d.Ts;var g=(0,c.Gp)((function(e,t){var a=(0,c.jC)("Stat",e),n=h({position:"relative",flex:"1 1 0%"},a.container),r=(0,c.Lr)(e),l=r.className,s=r.children,i=p(r,m);return u.createElement(c.Fo,{value:a},u.createElement(c.m$.div,h({ref:t},i,{className:(0,d.cx)("chakra-stat",l),__css:n}),u.createElement("dl",null,s)))}));d.Ts&&(g.displayName="Stat");var b=(0,c.Gp)((function(e,t){return u.createElement(c.m$.div,h({},e,{ref:t,role:"group",className:(0,d.cx)("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))}));d.Ts&&(b.displayName="StatGroup");var C=a(3252),w=a(184);function S(e){const{startContent:t,endContent:a,name:l,growth:s,value:i}=e,c=(0,n.ff)("secondaryGray.900","white");return(0,w.jsx)(o.Z,{cursor:"pointer",py:"15px",onClick:e.onClick,children:(0,w.jsxs)(r.Flex,{my:"auto",h:"100%",align:{base:"center",xl:"start"},justify:{base:"center",xl:"center"},children:[t,(0,w.jsxs)(g,{my:"auto",ms:t?"18px":"0px",children:[(0,w.jsx)(x,{lineHeight:"100%",color:"secondaryGray.600",fontSize:{base:"sm"},children:l}),(0,w.jsx)(v,{color:c,fontSize:{base:"2xl"},children:(0,w.jsx)(C.Z,{targetNumber:i})}),s?(0,w.jsxs)(r.Flex,{align:"center",children:[(0,w.jsx)(r.Text,{color:"green.500",fontSize:"xs",fontWeight:"700",me:"5px",children:s}),(0,w.jsx)(r.Text,{color:"secondaryGray.600",fontSize:"xs",fontWeight:"400",children:"since last month"})]}):null]}),(0,w.jsx)(r.Flex,{ms:"auto",w:"max-content",children:a})]})})}function _(e){const{icon:t,...a}=e;return(0,w.jsx)(r.Flex,{alignItems:"center",justifyContent:"center",borderRadius:"50%",...a,children:t})}var E=a(3486),N=a(9129),k=a(6856),O=a(7689),T=a(1526),G=a(5277),I=(a(2426),a(3496));a(8639);const F=e=>{const{dashboard:t}=e,[a,n]=(0,u.useState)([44,55,13,33]);return(0,w.jsx)(o.Z,{children:(0,w.jsx)(r.Grid,{py:5,children:(0,w.jsx)("div",{children:(0,w.jsx)(I.Z,{options:{chart:{width:380,type:"donut"},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}],legend:{position:"bottom"}},series:a,type:"donut",width:450})})})})};function z(){const e=(0,n.ff)("brand.500","white"),t=(0,n.ff)("secondaryGray.300","whiteAlpha.100"),a=JSON.parse(localStorage.getItem("user")),[c,d]=(0,u.useState)([]),[p,h]=(0,u.useState)([]),[m,x]=(0,u.useState)([]),[f,v]=(0,u.useState)([]),j=(0,O.s0)();return(0,u.useEffect)((()=>{(async()=>{let e=await(0,T.ac)("admin"===a.role?"api/task/":"api/task/?createBy=".concat(a._id)),t=await(0,T.ac)("admin"===a.role?"api/contact/":"api/contact/?createBy=".concat(a._id)),n=await(0,T.ac)("admin"===a.role?"api/lead/":"api/lead/?createBy=".concat(a._id)),r=await(0,T.ac)("admin"===a.role?"api/property/":"api/property/?createBy=".concat(a._id));v(null===r||void 0===r?void 0:r.data),x(null===n||void 0===n?void 0:n.data),h(null===t||void 0===t?void 0:t.data),d(null===e||void 0===e?void 0:e.data)})()}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(r.SimpleGrid,{columns:{base:1,md:2,lg:4},gap:"20px",mb:"20px",children:[(0,w.jsx)(S,{onClick:()=>j("/task"),startContent:(0,w.jsx)(_,{w:"56px",h:"56px",bg:"linear-gradient(90deg, #4481EB 0%, #04BEFE 100%)",icon:(0,w.jsx)(l.JO,{w:"28px",h:"28px",as:k.oDQ,color:"white"})}),name:"Tasks",value:(null===c||void 0===c?void 0:c.length)||0}),(0,w.jsx)(S,{onClick:()=>j("/contacts"),startContent:(0,w.jsx)(_,{w:"56px",h:"56px",bg:t,icon:(0,w.jsx)(l.JO,{w:"32px",h:"32px",as:k.YGi,color:e})}),name:"Contacts",value:(null===p||void 0===p?void 0:p.length)||0}),(0,w.jsx)(S,{onClick:()=>j("/lead"),startContent:(0,w.jsx)(_,{w:"56px",h:"56px",bg:t,icon:(0,w.jsx)(l.JO,{w:"32px",h:"32px",as:k.Cal,color:e})}),name:"Leads",value:(null===m||void 0===m?void 0:m.length)||0}),(0,w.jsx)(S,{onClick:()=>j("/properties"),startContent:(0,w.jsx)(_,{w:"56px",h:"56px",bg:t,icon:(0,w.jsx)(l.JO,{w:"32px",h:"32px",as:N.QCy,color:e})}),name:"property",value:(null===f||void 0===f?void 0:f.length)||0})]}),(0,w.jsxs)(r.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,w.jsx)(r.GridItem,{rowSpan:2,colSpan:{base:12,md:8},children:(0,w.jsxs)(o.Z,{children:[(0,w.jsxs)(r.Flex,{mb:3,alignItems:"center",justifyContent:"space-between",children:[(0,w.jsx)(r.Heading,{size:"md",children:"Report"}),(0,w.jsx)(s.IconButton,{color:"green.500",onClick:()=>j("/reporting-analytics"),"aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,w.jsx)(i.ViewIcon,{})})]}),(0,w.jsx)(E.q,{}),(0,w.jsx)(G.Z,{dashboard:"dashboard"})]})}),(0,w.jsx)(r.GridItem,{rowSpan:2,colSpan:{base:12,md:4},children:(0,w.jsxs)(o.Z,{children:[(0,w.jsxs)(r.Flex,{mb:3,alignItems:"center",justifyContent:"space-between",children:[(0,w.jsx)(r.Heading,{size:"md",children:"Report"}),(0,w.jsx)(s.IconButton,{color:"green.500",onClick:()=>j("/reporting-analytics"),"aria-label":"Call Fred",borderRadius:"10px",size:"md",icon:(0,w.jsx)(i.ViewIcon,{})})]}),(0,w.jsx)(E.q,{}),(0,w.jsx)(F,{dashboard:"dashboard"})]})})]})]})}},5277:(e,t,a)=>{a.d(t,{Z:()=>x});var n=a(8735),r=a(7640),l=a(3445),s=a(3712),i=a(2426),o=a.n(i),c=a(2791),d=a(3496),u=a(9513),p=a.n(u),h=(a(8639),a(1526)),m=a(184);const x=e=>{const{dashboard:t}=e,[a,i]=(0,c.useState)({}),[u,x]=(0,c.useState)(new Date(new Date-12096e5)),[f,v]=(0,c.useState)(new Date),[j,y]=(0,c.useState)("all"),[g,b]=(0,c.useState)("day"),C=JSON.parse(localStorage.getItem("user")),w=Object.keys(a).map((e=>{const t=a[e][0];let n=[];return null!==t&&void 0!==t&&t.Emails&&(n=n.concat(t.Emails.map((e=>({x:e.date,y:e.Emailcount}))))),null!==t&&void 0!==t&&t.Calls&&(n=n.concat(t.Calls.map((e=>({x:e.date,y:e.Callcount}))))),null!==t&&void 0!==t&&t.TextMsges&&(n=n.concat(t.TextMsges.map((e=>({x:e.date,y:e.TextSentCount}))))),{name:e,data:n}}));(0,c.useEffect)((()=>{(async()=>{const e={startDate:o()(u).format("YYYY-MM-DD"),endDate:o()(f).format("YYYY-MM-DD"),filter:g};let t=await(0,h.Fv)("admin"===C.role?"api/reporting/index":"api/reporting/index?sender=".concat(C._id),e);t&&200===t.status&&i(null===t||void 0===t?void 0:t.data)})()}),[u,f,g]);const S="all"===j?w:w.filter((e=>e.name===j));return(0,m.jsxs)(s.Z,{children:[!t&&(0,m.jsxs)(n.Box,{display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",mb:4,children:[(0,m.jsxs)(r.Ph,{value:j,onChange:e=>y(e.target.value),width:{base:"100%",md:"15%"},mb:{base:3,md:"auto"},children:[(0,m.jsx)("option",{value:"EmailDetails",children:"Email"}),(0,m.jsx)("option",{value:"outboundcall",children:"Call"}),(0,m.jsx)("option",{value:"all",children:"all"})]}),(0,m.jsxs)(n.Box,{width:{base:"100%",md:"auto"},flexWrap:"wrap",justifyContent:"left",mb:{base:3,md:"auto"},display:"flex",children:[(0,m.jsx)(p(),{selected:u,onChange:e=>x(e)}),(0,m.jsx)(p(),{selected:f,onChange:e=>v(e)})]}),(0,m.jsx)(n.Box,{width:{base:"100%",md:"auto"},display:"flex",justifyContent:"right",mb:{base:3,md:"auto"},children:(0,m.jsx)(l.Ee,{onChange:e=>b(e),value:g,children:(0,m.jsxs)(n.Stack,{direction:"row",children:[(0,m.jsx)(l.Y8,{value:"day",children:"Daily"}),(0,m.jsx)(l.Y8,{value:"week",children:"Weekly"})]})})})]}),(0,m.jsx)("div",{id:"chart",children:(0,m.jsx)("div",{id:"chart-timeline",children:S&&(0,m.jsx)(d.Z,{options:{chart:{id:"line-chart"},xaxis:{type:"datetime"},yaxis:{title:{text:"Count"}},dataLabels:{enabled:!0}},series:S,type:"area",height:350})})})]})}},7640:(e,t,a)=>{a.d(t,{Ph:()=>f});var n=a(3393),r=a(1938),l=a(7160),s=a(6134),i=a(6198),o=a.n(i),c=a(2791);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d.apply(this,arguments)}function u(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}var p=["children","placeholder","className"],h=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],m=["children"],x=(0,r.Gp)((function(e,t){var a=e.children,n=e.placeholder,l=e.className,i=u(e,p);return c.createElement(r.m$.select,d({},i,{ref:t,className:(0,s.cx)("chakra-select",l)}),n&&c.createElement("option",{value:""},n),a)}));s.Ts&&(x.displayName="SelectField");var f=(0,r.Gp)((function(e,t){var a=(0,r.jC)("Select",e),i=(0,r.Lr)(e),p=i.rootProps,m=i.placeholder,f=i.icon,v=i.color,j=i.height,g=i.h,b=i.minH,C=i.minHeight,w=i.iconColor,S=i.iconSize;i.isFullWidth;var _=u(i,h),E=(0,s.Vl)(_,l.oE),N=E[0],k=E[1],O=(0,n.useFormControl)(k),T={width:"100%",height:"fit-content",position:"relative",color:v},G=o()({paddingEnd:"2rem"},a.field,{_focus:{zIndex:"unset"}});return c.createElement(r.m$.div,d({className:"chakra-select__wrapper",__css:T},N,p),c.createElement(x,d({ref:t,height:null!=g?g:j,minH:null!=b?b:C,placeholder:m},O,{__css:G}),e.children),c.createElement(y,d({"data-disabled":(0,s.PB)(O.disabled)},(w||v)&&{color:w||v},{__css:a.icon},S&&{fontSize:S}),f))}));s.Ts&&(f.displayName="Select");var v=function(e){return c.createElement("svg",d({viewBox:"0 0 24 24"},e),c.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},j=(0,r.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),y=function(e){var t=e.children,a=void 0===t?c.createElement(v,null):t,n=u(e,m),r=c.cloneElement(a,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return c.createElement(j,d({},n,{className:"chakra-select__icon-wrapper"}),c.isValidElement(a)?r:null)};s.Ts&&(y.displayName="SelectIcon")}}]);
//# sourceMappingURL=3113.7a3a06c4.chunk.js.map