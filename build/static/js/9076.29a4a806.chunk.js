"use strict";(self.webpackChunkreal_estate=self.webpackChunkreal_estate||[]).push([[9076],{3193:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var i=t(2791),l=t(1526),o=t(575),d=t(3712),s=t(8217),a=t(4332),r=t(9704),c=t(9178),v=t(2720),u=t(5223),x=t(855),h=t(6040),m=t(4399),j=t(184);const p=e=>{const{data:n,fetchData:t}=e,[l,p]=(0,i.useState)(!1),[f,b]=(0,i.useState)(),[T,k]=(0,i.useState)(),{isOpen:S,onOpen:g,onClose:w}=(0,u.qY)();const[C,I]=(0,i.useState)("");return(0,i.useEffect)((()=>{I("dayGridMonth")}),[]),(0,j.jsx)("div",{children:(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(h.Z,{isOpen:S,fetchData:t,onClose:w,date:T}),(0,j.jsx)(m.Z,{fetchData:t,isOpen:l,onClose:p,info:f}),(0,j.jsx)(o.Z,{plugins:[s.Z,v.Z,r.Z,a.ZP,c.Z],initialView:C,height:"600px",dateClick:e=>{g(),k(e.dateStr)},events:n,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,multiMonthFourMonth"},eventClick:function(e){e.event.url&&(e.jsEvent.preventDefault(),window.open(e.event.url)),p(!0),b(e)},buttonText:{today:"Today",dayGridMonth:"Month",timeGridWeek:"Week",timeGridDay:"Day",listWeek:"List"},views:{multiMonthFourMonth:{type:"multiMonth",buttonText:"Multi Month",duration:{months:(0,x.Sx)({base:4,lg:4,xl:6})}}},eventClassNames:"custom-fullcalendar"})]})})},f=()=>{const[e,n]=(0,i.useState)([]),t=JSON.parse(localStorage.getItem("user")),o=async()=>{let e=await(0,l.ac)("admin"===t.role?"api/task/":"api/task/?createBy=".concat(t._id));n(e.data)};return(0,i.useEffect)((()=>{o()}),[]),(0,j.jsx)(p,{fetchData:o,data:e})}},4399:(e,n,t)=>{t.d(n,{Z:()=>f});var i=t(5272),l=t(7917),o=t(2504),d=t(8735),s=t(4220),a=t(2426),r=t.n(a),c=t(2791),v=t(7692),u=t(1087),x=t(1526),h=t(1634),m=t(2285),j=t(7689),p=t(184);const f=e=>{var n,t,a,f,b,T;const{onClose:k,isOpen:S,info:g,fetchData:w}=e,[C,I]=(0,c.useState)(),[y,G]=(0,c.useState)(!1),[z,W]=(0,c.useState)(!1),D=JSON.parse(localStorage.getItem("user")),[_,Z]=(0,c.useState)(!1),A=(0,j.s0)();(0,c.useEffect)((()=>{(async()=>{if(g){var e,n,t;Z(!0);let i=await(0,x.ac)("api/task/view/",null!==g&&void 0!==g&&g.event?null===g||void 0===g||null===(e=g.event)||void 0===e||null===(n=e._def)||void 0===n||null===(t=n.extendedProps)||void 0===t?void 0:t._id:g);I(null===i||void 0===i?void 0:i.data),Z(!1)}})()}),[g]);return(0,p.jsxs)(l.u_,{isOpen:S,size:"md",isCentered:!0,children:[(0,p.jsx)(l.ZA,{}),(0,p.jsxs)(l.hz,{children:[(0,p.jsxs)(l.xB,{justifyContent:"space-between",display:"flex",children:["Task",(0,p.jsx)(o.IconButton,{onClick:()=>k(!1),icon:(0,p.jsx)(i.CloseIcon,{})})]}),_?(0,p.jsx)(d.Flex,{justifyContent:"center",alignItems:"center",mb:30,width:"100%",children:(0,p.jsx)(s.Z,{})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.fe,{children:(0,p.jsxs)(d.Grid,{templateColumns:"repeat(12, 1fr)",gap:3,children:[(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Title "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.title?null===C||void 0===C?void 0:C.title:" - "})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Related To "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.category?null===C||void 0===C?void 0:C.category:" - "})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task start "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.start?r()(null===C||void 0===C?void 0:C.start).format("L LT"):" - "})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task end  "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.end?r()(null===C||void 0===C?void 0:C.end).format("L LT"):r()(null===C||void 0===C?void 0:C.start).format("L")})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Link "}),null!==C&&void 0!==C&&C.url?(0,p.jsx)("a",{target:"_blank",href:null===C||void 0===C?void 0:C.url,children:(0,p.jsx)(o.IconButton,{borderRadius:"10px",size:"md",icon:(0,p.jsx)(v.Wlb,{})})}):"-"]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task reminder "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.reminder?null===C||void 0===C?void 0:C.reminder:" - "})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" assignment To  "}),(0,p.jsx)(u.rU,{to:null!==C&&void 0!==C&&C.assignmentTo?"admin"!==(null===D||void 0===D?void 0:D.role)?"/contactView/".concat(null===C||void 0===C?void 0:C.assignmentTo):"/admin/contactView/".concat(null===C||void 0===C?void 0:C.assignmentTo):"admin"!==(null===D||void 0===D?void 0:D.role)?"/leadView/".concat(null===C||void 0===C?void 0:C.assignmentToLead):"/admin/leadView/".concat(null===C||void 0===C?void 0:C.assignmentToLead),children:(0,p.jsx)(d.Text,{color:"green.400",sx:{"&:hover":{color:"blue.500",textDecoration:"underline"}},children:null!==C&&void 0!==C&&C.assignmentToName?null===C||void 0===C?void 0:C.assignmentToName:" - "})})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12,md:6},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task createBy "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.createByName?null===C||void 0===C?void 0:C.createByName:" - "})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task Description"}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.description?null===C||void 0===C?void 0:C.description:" - "})]}),(0,p.jsxs)(d.GridItem,{colSpan:{base:12},children:[(0,p.jsx)(d.Text,{fontSize:"sm",fontWeight:"bold",color:"blackAlpha.900",children:" Task notes "}),(0,p.jsx)(d.Text,{children:null!==C&&void 0!==C&&C.notes?null===C||void 0===C?void 0:C.notes:" - "})]})]})}),(0,p.jsxs)(l.ze,{children:[(0,p.jsx)(o.IconButton,{variant:"outline",onClick:()=>(()=>{var e,n,t,i,l,o;null!==g&&void 0!==g&&g.event?A("admin"!==(null===D||void 0===D?void 0:D.role)?"/view/".concat(null===g||void 0===g||null===(e=g.event)||void 0===e||null===(n=e._def)||void 0===n||null===(t=n.extendedProps)||void 0===t?void 0:t._id):"/admin/view/".concat(null===g||void 0===g||null===(i=g.event)||void 0===i||null===(l=i._def)||void 0===l||null===(o=l.extendedProps)||void 0===o?void 0:o._id)):A("admin"!==(null===D||void 0===D?void 0:D.role)?"/view/".concat(g):"/admin/view/".concat(g))})(),borderRadius:"10px",size:"md",icon:(0,p.jsx)(i.ViewIcon,{})}),(0,p.jsx)(o.IconButton,{variant:"outline",onClick:()=>G(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(i.EditIcon,{})}),(0,p.jsx)(o.IconButton,{colorScheme:"red",onClick:()=>W(!0),ml:3,borderRadius:"10px",size:"md",icon:(0,p.jsx)(i.DeleteIcon,{})}),(0,p.jsx)(m.Z,{fetchData:w,isOpen:y,onClose:G,viewClose:k,id:null!==g&&void 0!==g&&g.event?null===g||void 0===g||null===(n=g.event)||void 0===n||null===(t=n._def)||void 0===t||null===(a=t.extendedProps)||void 0===a?void 0:a._id:g}),(0,p.jsx)(h.Z,{fetchData:e.fetchData,isOpen:z,onClose:W,viewClose:k,url:"api/task/delete/",method:"one",id:null!==g&&void 0!==g&&g.event?null===g||void 0===g||null===(f=g.event)||void 0===f||null===(b=f._def)||void 0===b||null===(T=b.extendedProps)||void 0===T?void 0:T._id:g})]})]})]})]})}}}]);
//# sourceMappingURL=9076.29a4a806.chunk.js.map